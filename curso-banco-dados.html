<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <!-- Configura√ß√µes b√°sicas da p√°gina do curso -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./assets/icons/favicon.png" type="image/jpeg">
    <title>Curso de Banco de Dados - NavCode</title>

    <!-- Importando estilos e fontes -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- ===== BOT√ÉO DE ALTERN√ÇNCIA DE TEMA ===== -->
    <button class="theme-toggle" id="theme-toggle" data-tooltip="Alternar Tema" onclick="toggleTheme()">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5" />
            <path
                d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
        </svg>
    </button>

    <!-- ===== CABE√áALHO DO CURSO ===== -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <!-- Navega√ß√£o de volta para home -->
                <div class="course-navigation">
                    <button type="button" class="back-btn" onclick="goHome()">
                        <!-- √çcone de seta para voltar -->
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5" />
                            <path d="M12 19l-7-7 7-7" />
                        </svg>
                        Voltar aos cursos
                    </button>

                    <!-- Logo NavCode -->
                    <div class="brand-logo">
                        <svg class="brand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                        </svg>
                        <span class="brand-name">NavCode</span>
                    </div>
                </div>

                <!-- T√≠tulo do curso -->
                <h1>Curso de Banco de Dados</h1>
                <p class="course-subtitle">
                    Aprenda modelagem, SQL e administra√ß√£o de bancos de dados
                </p>
            </div>
        </div>
    </header>

    <!-- ===== CONTE√öDO PRINCIPAL DO CURSO ===== -->
    <main class="main-content">
        <div class="container">

            <!-- ===== PROGRESSO DO CURSO ===== -->
            <div class="progress-card">
                <div class="card-header">
                    <h2 class="card-title">
                        <!-- √çcone de progresso -->
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <path d="M12 6v6l4 2" />
                        </svg>
                        Seu Progresso
                    </h2>
                    <p class="card-description">
                        <span id="completed-chapters">0</span> de <span id="total-chapters">6</span> cap√≠tulos
                        conclu√≠dos
                    </p>
                </div>
                <div class="card-content">
                    <!-- Barra de progresso do curso -->
                    <div class="progress-bar">
                        <div class="progress-fill" id="course-progress-fill"></div>
                    </div>
                    <p class="progress-text"><span id="course-progress-percentage">0</span>% conclu√≠do</p>
                </div>
            </div>

            <!-- ===== CAP√çTULOS DO CURSO ===== -->
            <div class="chapters-grid" id="chapters-grid">
                <!-- Os cap√≠tulos ser√£o carregados dinamicamente -->
            </div>

            <!-- ===== √ÅREA DE CONTE√öDO DO CAP√çTULO ===== -->
            <div class="chapter-content" id="chapter-content" style="display: none;">
                <!-- Conte√∫do ser√° carregado dinamicamente quando cap√≠tulo for selecionado -->
            </div>
        </div>
    </main>

    <!-- ===== SCRIPTS ===== -->
    <script src="auth.js"></script>
    <script>
        // ===== IDENTIFICADOR √öNICO DO CURSO =====
        const courseId = "curso-banco-dados";

        // ===== VARI√ÅVEL DE PROGRESSO =====
        let userProgress = null;

        // ===== DADOS DO CURSO =====
        /**
         * Estrutura completa do curso de banco de dados
         * Cada cap√≠tulo cont√©m teoria, exerc√≠cios e v√≠deos
         */
        const courseData = {
            id: 1,
            title: "Curso de Banco de Dados",
            totalChapters: 6,
            chapters: [
                {
                    id: 1,
                    title: "Fundamentos de Banco de Dados",
                    description: "Conceitos b√°sicos, tipos de SGBD e arquitetura",
                    duration: "3h",
                    exercises: 36, // Aumentado de 12 para 36 exerc√≠cios (6 por cap√≠tulo)
                    videos: 4,
                    completed: false,
                    content: {
                        theory: `
                            <!-- SE√á√ÉO DE TEORIA: FUNDAMENTOS DE BANCO DE DADOS -->
                            <!-- Esta se√ß√£o apresenta os conceitos fundamentais sobre bancos de dados -->
                            <h3>üóÑÔ∏è O que √© um Banco de Dados?</h3>
                            <p>Um banco de dados √© uma cole√ß√£o organizada de dados relacionados, armazenados de forma estruturada e gerenciados por um Sistema de Gerenciamento de Banco de Dados (SGBD) para facilitar o acesso, manipula√ß√£o e recupera√ß√£o de informa√ß√µes.</p>
                            
                            <!-- DEFINI√á√ÉO DETALHADA -->
                            <h4>üìñ Defini√ß√£o Completa:</h4>
                            <p>Um banco de dados √© um sistema eletr√¥nico que armazena, organiza e gerencia grandes volumes de informa√ß√µes de forma eficiente, permitindo que m√∫ltiplos usu√°rios acessem e manipulem os dados simultaneamente, garantindo integridade, seguran√ßa e consist√™ncia das informa√ß√µes.</p>
                            
                            <!-- CARACTER√çSTICAS DOS BANCOS DE DADOS -->
                            <h4>üîç Caracter√≠sticas Principais:</h4>
                            <ul>
                                <li><strong>Integridade:</strong> Garante consist√™ncia e precis√£o dos dados</li>
                                <li><strong>Seguran√ßa:</strong> Controla acesso e protege informa√ß√µes sens√≠veis</li>
                                <li><strong>Performance:</strong> Otimiza consultas e opera√ß√µes para velocidade</li>
                                <li><strong>Escalabilidade:</strong> Suporta crescimento de dados e usu√°rios</li>
                                <li><strong>Disponibilidade:</strong> Mant√©m dados acess√≠veis 24/7</li>
                                <li><strong>Backup e Recupera√ß√£o:</strong> Protege contra perda de dados</li>
                            </ul>
                            
                            <!-- EVOLU√á√ÉO HIST√ìRICA DOS BANCOS DE DADOS -->
                            <h4>üìö Evolu√ß√£o Hist√≥rica dos Bancos de Dados:</h4>
                            <div class="timeline">
                                <p><strong>D√©cada de 1960 - Sistemas de Arquivos:</strong></p>
                                <ul>
                                    <li>Armazenamento em arquivos simples</li>
                                    <li>Dados duplicados e inconsist√™ncias</li>
                                    <li>Dif√≠cil manuten√ß√£o e atualiza√ß√£o</li>
                                    <li>Sem controle de acesso eficiente</li>
                                </ul>
                                
                                <p><strong>D√©cada de 1970 - Modelo Hier√°rquico e em Rede:</strong></p>
                                <ul>
                                    <li>Surgimento dos primeiros SGBDs</li>
                                    <li>Modelo hier√°rquico (IBM IMS)</li>
                                    <li>Modelo em rede (CODASYL)</li>
                                    <li>Primeiros conceitos de normaliza√ß√£o</li>
                                </ul>
                                
                                <p><strong>D√©cada de 1980 - Modelo Relacional:</strong></p>
                                <ul>
                                    <li>Revolu√ß√£o com o modelo relacional (Codd)</li>
                                    <li>Surgimento do SQL</li>
                                    <li>SGBDs como Oracle, DB2, SQL Server</li>
                                    <li>Padroniza√ß√£o de linguagens de consulta</li>
                                </ul>
                                
                                <p><strong>D√©cada de 1990 - Expans√£o e Web:</strong></p>
                                <ul>
                                    <li>Bancos de dados para web</li>
                                    <li>MySQL e PostgreSQL (open source)</li>
                                    <li>Data warehouses</li>
                                    <li>OLAP e business intelligence</li>
                                </ul>
                                
                                <p><strong>D√©cada de 2000 - Presente:</strong></p>
                                <ul>
                                    <li>NoSQL (MongoDB, Cassandra)</li>
                                    <li>Big Data e Hadoop</li>
                                    <li>Cloud databases (AWS, Azure)</li>
                                    <li>Bancos de dados em mem√≥ria</li>
                                </ul>
                            </div>
                            
                            <!-- TIPOS DE SGBDS -->
                            <h4>üóÑÔ∏è Tipos de SGBDs (Sistemas de Gerenciamento de Banco de Dados):</h4>
                            
                            <h5>Por Modelo de Dados:</h5>
                            <ul>
                                <li><strong>Relacionais (RDBMS):</strong>
                                    <ul>
                                        <li>Dados organizados em tabelas</li>
                                        <li>Relacionamentos entre tabelas</li>
                                        <li>Usa SQL para consultas</li>
                                        <li>Exemplos: MySQL, PostgreSQL, Oracle, SQL Server</li>
                                    </ul>
                                </li>
                                <li><strong>NoSQL:</strong>
                                    <ul>
                                        <li>Dados n√£o relacionais</li>
                                        <li>Flexibilidade no esquema</li>
                                        <li>Escalabilidade horizontal</li>
                                        <li>Exemplos: MongoDB, Cassandra, Redis</li>
                                    </ul>
                                </li>
                                <li><strong>Orientados a Objetos:</strong>
                                    <ul>
                                        <li>Integra√ß√£o com linguagens OO</li>
                                        <li>Persist√™ncia de objetos</li>
                                        <li>Heran√ßa e polimorfismo</li>
                                        <li>Exemplos: ObjectDB, Versant</li>
                                    </ul>
                                </li>
                                <li><strong>Hier√°rquicos e em Rede:</strong>
                                    <ul>
                                        <li>Modelos mais antigos</li>
                                        <li>Estruturas de √°rvore ou grafos</li>
                                        <li>Usados em sistemas legados</li>
                                        <li>Exemplos: IBM IMS, IDMS</li>
                                    </ul>
                                </li>
                            </ul>
                            
                            <h5>Por Arquitetura:</h5>
                            <ul>
                                <li><strong>Centralizados:</strong> Um √∫nico servidor gerencia todo o banco</li>
                                <li><strong>Distribu√≠dos:</strong> Dados espalhados em m√∫ltiplos servidores</li>
                                <li><strong>Paralelos:</strong> M√∫ltiplos processadores para maior performance</li>
                                <li><strong>Cloud:</strong> Hospedados em servidores remotos na nuvem</li>
                            </ul>
                            
                            <!-- COMPONENTES DE UM SGBD -->
                            <h4>üîß Componentes de um SGBD:</h4>
                            <ul>
                                <li><strong>Motor de Banco de Dados:</strong> N√∫cleo que gerencia dados e opera√ß√µes</li>
                                <li><strong>Linguagem de Consulta:</strong> SQL para manipular dados</li>
                                <li><strong>Otimizador de Consultas:</strong> Melhora performance das opera√ß√µes</li>
                                <li><strong>Gerenciador de Transa√ß√µes:</strong> Controla opera√ß√µes ACID</li>
                                <li><strong>Sistema de Seguran√ßa:</strong> Controle de acesso e autentica√ß√£o</li>
                                <li><strong>Backup e Recupera√ß√£o:</strong> Prote√ß√£o contra perda de dados</li>
                            </ul>
                            
                            <!-- VANTAGENS DOS BANCOS DE DADOS -->
                            <h4>‚úÖ Vantagens dos Bancos de Dados:</h4>
                            <p>Os bancos de dados oferecem in√∫meras vantagens sobre sistemas de arquivos tradicionais: redu√ß√£o de redund√¢ncia, integridade dos dados, seguran√ßa aprimorada, compartilhamento eficiente, independ√™ncia de dados, e facilidade de manuten√ß√£o e evolu√ß√£o dos sistemas.</p>
                        `,
                        exercises: [
                            {
                                question: "O que √© um banco de dados?",
                                options: ["Um computador muito grande", "Cole√ß√£o organizada de dados relacionados", "Um tipo de software", "Um dispositivo de armazenamento"],
                                correct: 1,
                                explanation: "Um banco de dados √© uma cole√ß√£o organizada de dados relacionados, gerenciados por um SGBD."
                            },
                            {
                                question: "O que significa SGBD?",
                                options: ["Sistema de Gerenciamento de Banco de Dados", "Software de Gest√£o de Dados B√°sicos", "Sistema Global de Backup de Dados", "Software de Gerenciamento de Dispositivos"],
                                correct: 0,
                                explanation: "SGBD significa Sistema de Gerenciamento de Banco de Dados, respons√°vel por gerenciar os dados."
                            },
                            {
                                question: "Qual √© a principal caracter√≠stica dos bancos relacionais?",
                                options: ["Armazenam dados em arquivos", "N√£o usam SQL", "Organizam dados em tabelas", "S√£o mais lentos"],
                                correct: 2,
                                explanation: "Bancos relacionais organizam dados em tabelas com relacionamentos entre elas."
                            },
                            {
                                question: "O que √© SQL?",
                                options: ["Um tipo de banco de dados", "Linguagem de consulta para bancos relacionais", "Um sistema operacional", "Um protocolo de rede"],
                                correct: 1,
                                explanation: "SQL (Structured Query Language) √© a linguagem padr√£o para consultar e manipular bancos relacionais."
                            },
                            {
                                question: "Qual √© a diferen√ßa entre bancos NoSQL e relacionais?",
                                options: ["N√£o h√° diferen√ßa", "Relacionais s√£o mais r√°pidos", "NoSQL n√£o armazena dados", "NoSQL s√£o n√£o relacionais e mais flex√≠veis"],
                                correct: 3,
                                explanation: "Bancos NoSQL s√£o n√£o relacionais, oferecendo mais flexibilidade no esquema de dados."
                            },
                            {
                                question: "O que garante a integridade dos dados?",
                                options: ["Consist√™ncia e precis√£o dos dados", "Velocidade de acesso", "Tamanho do banco", "N√∫mero de usu√°rios"],
                                correct: 0,
                                explanation: "Integridade garante que os dados sejam consistentes, precisos e v√°lidos."
                            }
                        ]
                    }
                },
                {
                    id: 2,
                    title: "Modelagem de Dados",
                    description: "Entidade-Relacionamento, normaliza√ß√£o e design de banco",
                    duration: "3h",
                    exercises: 36,
                    videos: 4,
                    completed: false,
                    content: {
                        theory: `
            SE√á√ÉO DE TEORIA: MODELAGEM DE DADOS COMPLETA
            Esta se√ß√£o explica detalhadamente como estruturar e projetar dados de forma eficiente para sistemas de informa√ß√£o.

            <h3>üß© O que √© Modelagem de Dados?</h3>
            <p>Modelagem de dados √© o processo de criar uma representa√ß√£o l√≥gica e visual da estrutura de um banco de dados, mostrando como as informa√ß√µes est√£o organizadas e como se relacionam entre si.</p>
            
            <h4>üìò Import√¢ncia da Modelagem de Dados</h4>
            <p>Uma boa modelagem evita redund√¢ncias, melhora o desempenho e garante integridade das informa√ß√µes. √â a base para o desenvolvimento de sistemas e bancos de dados eficientes.</p>

            <h4>üèóÔ∏è Etapas da Modelagem de Dados</h4>
            <ul>
                <li><strong>Modelagem Conceitual:</strong> Cria√ß√£o do Diagrama Entidade-Relacionamento (DER) ‚Äî representa√ß√£o das entidades, atributos e relacionamentos.</li>
                <li><strong>Modelagem L√≥gica:</strong> Convers√£o do modelo conceitual em tabelas, colunas e chaves (prim√°rias e estrangeiras).</li>
                <li><strong>Modelagem F√≠sica:</strong> Implementa√ß√£o do modelo l√≥gico em um SGBD espec√≠fico, considerando tipos de dados, √≠ndices e desempenho.</li>
            </ul>

            <h4>üß± Entidades, Atributos e Relacionamentos</h4>
            <ul>
                <li><strong>Entidade:</strong> Representa um objeto do mundo real que ser√° armazenado no banco (ex: Cliente, Produto).</li>
                <li><strong>Atributo:</strong> Caracter√≠sticas da entidade (ex: nome, pre√ßo, data de nascimento).</li>
                <li><strong>Relacionamento:</strong> Conex√£o entre entidades (ex: Cliente faz Pedido, Aluno cursa Disciplina).</li>
            </ul>

            <h5>Tipos de Relacionamento:</h5>
            <ul>
                <li><strong>1:1 (Um para Um):</strong> Cada registro em A se relaciona com um √∫nico registro em B.</li>
                <li><strong>1:N (Um para Muitos):</strong> Um registro em A pode estar relacionado a v√°rios em B.</li>
                <li><strong>N:N (Muitos para Muitos):</strong> V√°rios registros em A podem se relacionar com v√°rios em B (necessita tabela intermedi√°ria).</li>
            </ul>

            <h4>üîë Chaves em Banco de Dados</h4>
            <ul>
                <li><strong>Chave Prim√°ria (PK):</strong> Identifica unicamente um registro em uma tabela.</li>
                <li><strong>Chave Estrangeira (FK):</strong> Cria v√≠nculo entre tabelas relacionadas.</li>
                <li><strong>Chave Candidata:</strong> Atributos que poderiam ser PK, mas apenas um √© escolhido.</li>
            </ul>

            <h4>üßÆ Normaliza√ß√£o de Dados</h4>
            <p>Normaliza√ß√£o √© o processo de organizar os dados para reduzir redund√¢ncias e garantir integridade.</p>
            <h5>Formas Normais:</h5>
            <ul>
                <li><strong>1¬™ Forma Normal (1FN):</strong> Elimina grupos repetitivos ‚Äî cada campo armazena um valor at√¥mico.</li>
                <li><strong>2¬™ Forma Normal (2FN):</strong> Remove depend√™ncias parciais ‚Äî todos os atributos dependem da chave completa.</li>
                <li><strong>3¬™ Forma Normal (3FN):</strong> Elimina depend√™ncias transitivas ‚Äî nenhum atributo depende de outro n√£o-chave.</li>
            </ul>

            <h4>üìä Diagrama Entidade-Relacionamento (DER)</h4>
            <p>O DER √© uma ferramenta visual que mostra como as entidades est√£o conectadas. Usando ret√¢ngulos (entidades), elipses (atributos) e losangos (relacionamentos), o DER auxilia na comunica√ß√£o entre analistas e desenvolvedores.</p>

            <h4>üèóÔ∏è Boas Pr√°ticas de Design de Banco de Dados</h4>
            <ul>
                <li>Evite redund√¢ncias desnecess√°rias.</li>
                <li>Escolha chaves prim√°rias simples e est√°veis.</li>
                <li>Use nomes claros e padronizados para tabelas e colunas.</li>
                <li>Defina relacionamentos com integridade referencial (FKs).</li>
                <li>Indexe colunas usadas em buscas frequentes.</li>
            </ul>

            <h4>‚öôÔ∏è Desnormaliza√ß√£o e Performance</h4>
            <p>Em alguns casos, dados podem ser desnormalizados (repetidos propositalmente) para melhorar a performance de leitura, principalmente em sistemas anal√≠ticos (Data Warehouses).</p>

            <h4>üîÆ Tend√™ncias Futuras</h4>
            <ul>
                <li><strong>Modelagem para Big Data:</strong> Modelos voltados para dados n√£o estruturados.</li>
                <li><strong>Banco de Dados NoSQL:</strong> Estruturas flex√≠veis (documentos, grafos, chave-valor).</li>
                <li><strong>Modelagem Multimodal:</strong> Combina√ß√£o de diferentes tipos de dados em um mesmo sistema.</li>
            </ul>
        `,
                        exercises: [
                            {
                                question: "O que √© uma entidade em um modelo de dados?",
                                options: ["Um campo de texto no banco", "Um objeto do mundo real representado no banco de dados", "Um valor num√©rico armazenado", "Um tipo de √≠ndice"],
                                correct: 1,
                                explanation: "Entidades representam objetos do mundo real que possuem informa√ß√µes armazenadas, como Cliente ou Produto."
                            },
                            {
                                question: "Qual √© a principal fun√ß√£o da normaliza√ß√£o?",
                                options: ["Aumentar o tamanho das tabelas", "Eliminar redund√¢ncias e melhorar a integridade dos dados", "Criar √≠ndices", "Remover chaves prim√°rias"],
                                correct: 1,
                                explanation: "A normaliza√ß√£o organiza os dados para reduzir redund√¢ncias e manter a integridade das informa√ß√µes."
                            },
                            {
                                question: "Qual tipo de relacionamento permite v√°rios registros de uma tabela relacionados a v√°rios da outra?",
                                options: ["1:1", "1:N", "N:N", "1:0"],
                                correct: 2,
                                explanation: "O relacionamento N:N (muitos para muitos) ocorre quando v√°rios registros de uma entidade podem se relacionar com v√°rios de outra."
                            },
                            {
                                question: "O que √© uma chave prim√°ria (PK)?",
                                options: ["Um campo que armazena valores repetidos", "Um identificador √∫nico de cada registro da tabela", "Um campo de texto", "Um tipo de √≠ndice tempor√°rio"],
                                correct: 1,
                                explanation: "A chave prim√°ria identifica unicamente cada registro em uma tabela, sem permitir valores nulos ou duplicados."
                            },
                            {
                                question: "Na 3¬™ Forma Normal, o que deve ser eliminado?",
                                options: ["Campos num√©ricos", "Depend√™ncias transitivas entre atributos n√£o-chave", "Chaves estrangeiras", "Relacionamentos 1:N"],
                                correct: 1,
                                explanation: "A 3¬™ Forma Normal elimina depend√™ncias transitivas ‚Äî quando um atributo depende de outro que n√£o √© chave prim√°ria."
                            },
                            {
                                question: "O que representa o Diagrama Entidade-Relacionamento (DER)?",
                                options: ["A estrutura f√≠sica das tabelas", "A estrutura conceitual do banco, com entidades e seus relacionamentos", "Os √≠ndices usados no banco", "As consultas SQL criadas"],
                                correct: 1,
                                explanation: "O DER √© a representa√ß√£o conceitual do banco, mostrando entidades, atributos e relacionamentos entre elas."
                            }
                        ]
                    }
                },
                {
                    id: 3,
                    title: "SQL B√°sico",
                    description: "SELECT, INSERT, UPDATE, DELETE e opera√ß√µes b√°sicas",
                    duration: "3h",
                    exercises: 36,
                    videos: 5,
                    completed: false,
                    content: {
                        theory: `
             SE√á√ÉO DE TEORIA: SQL B√ÅSICO COMPLETA 
             Esta se√ß√£o explica os fundamentos da linguagem SQL e as opera√ß√µes b√°sicas em bancos de dados relacionais.
            <h3>üß© SQL: A Linguagem dos Bancos de Dados</h3>
            <p>SQL (Structured Query Language) √© a linguagem padr√£o usada para interagir com bancos de dados relacionais. Com ela, podemos criar estruturas, inserir, consultar, atualizar e remover dados de forma simples e poderosa.</p>

             CONCEITOS FUNDAMENTAIS 
            <h4>üìñ O que √© SQL?</h4>
            <p>SQL √© uma linguagem declarativa usada para gerenciar dados em sistemas de banco de dados relacionais (como MySQL, PostgreSQL, SQL Server, Oracle e SQLite). Ela permite manipular e consultar informa√ß√µes armazenadas em tabelas.</p>

             ESTRUTURA DE UM BANCO DE DADOS RELACIONAL 
            <h4>üóÉÔ∏è Conceitos-Chave:</h4>
            <ul>
                <li><strong>Tabela:</strong> Conjunto de dados organizados em linhas (registros) e colunas (campos).</li>
                <li><strong>Registro:</strong> Cada linha da tabela representa uma entrada (ex: um cliente).</li>
                <li><strong>Campo:</strong> Cada coluna representa um atributo (ex: nome, idade, email).</li>
                <li><strong>Chave Prim√°ria (PRIMARY KEY):</strong> Identifica de forma √∫nica cada registro.</li>
                <li><strong>Chave Estrangeira (FOREIGN KEY):</strong> Relaciona tabelas entre si.</li>
            </ul>

             PRINCIPAIS COMANDOS SQL 
            <h4>üß† Comandos Fundamentais:</h4>

            <h5>1. SELECT (Consulta de Dados)</h5>
            <p>Usado para buscar informa√ß√µes de uma ou mais tabelas.</p>
            <pre><code>SELECT nome, idade FROM clientes;</code></pre>
            <ul>
                <li><strong>WHERE:</strong> Filtra resultados.</li>
                <li><strong>ORDER BY:</strong> Ordena os resultados.</li>
                <li><strong>LIMIT:</strong> Limita o n√∫mero de linhas retornadas.</li>
            </ul>
            <pre><code>SELECT * FROM clientes WHERE idade > 18 ORDER BY nome ASC LIMIT 10;</code></pre>

            <h5>2. INSERT (Inser√ß√£o de Dados)</h5>
            <p>Usado para adicionar novos registros na tabela.</p>
            <pre><code>INSERT INTO clientes (nome, idade, cidade)
VALUES ('Maria', 30, 'S√£o Paulo');</code></pre>

            <h5>3. UPDATE (Atualiza√ß√£o de Dados)</h5>
            <p>Usado para modificar valores existentes em registros.</p>
            <pre><code>UPDATE clientes
SET cidade = 'Rio de Janeiro'
WHERE id = 3;</code></pre>

            <h5>4. DELETE (Remo√ß√£o de Dados)</h5>
            <p>Usado para excluir registros de uma tabela.</p>
            <pre><code>DELETE FROM clientes WHERE idade < 18;</code></pre>

             FILTRAGEM E ORDENA√á√ÉO 
            <h4>üîç Filtros e Ordena√ß√£o:</h4>
            <ul>
                <li><strong>Operadores de Compara√ß√£o:</strong> =, &lt;, &gt;, &lt;=, &gt;=, &lt;&gt;</li>
                <li><strong>Operadores L√≥gicos:</strong> AND, OR, NOT</li>
                <li><strong>LIKE:</strong> Busca por padr√µes (ex: nomes que come√ßam com ‚ÄòA‚Äô)</li>
                <li><strong>BETWEEN:</strong> Faixa de valores (ex: idades entre 20 e 30)</li>
            </ul>
            <pre><code>SELECT * FROM produtos WHERE preco BETWEEN 10 AND 50;</code></pre>

             FUN√á√ïES AGREGADAS 
            <h4>üßÆ Fun√ß√µes Agregadas:</h4>
            <ul>
                <li><strong>COUNT:</strong> Conta registros</li>
                <li><strong>SUM:</strong> Soma valores</li>
                <li><strong>AVG:</strong> Calcula m√©dia</li>
                <li><strong>MIN / MAX:</strong> Retorna m√≠nimo ou m√°ximo</li>
            </ul>
            <pre><code>SELECT COUNT(*), AVG(preco) FROM produtos;</code></pre>

             AGRUPAMENTO E RELACIONAMENTO 
            <h4>üß± GROUP BY e JOIN:</h4>
            <ul>
                <li><strong>GROUP BY:</strong> Agrupa resultados com base em colunas</li>
                <li><strong>HAVING:</strong> Filtra grupos (como WHERE, mas ap√≥s agrupamento)</li>
                <li><strong>JOIN:</strong> Combina dados de tabelas relacionadas</li>
            </ul>
            <pre><code>SELECT clientes.nome, pedidos.valor
FROM clientes
JOIN pedidos ON clientes.id = pedidos.id_cliente;</code></pre>

             BOAS PR√ÅTICAS 
            <h4>‚úÖ Boas Pr√°ticas em SQL:</h4>
            <ul>
                <li>Evite o uso de <code>SELECT *</code> em produ√ß√£o ‚Äî especifique colunas.</li>
                <li>Sempre use <code>WHERE</code> em comandos <code>UPDATE</code> e <code>DELETE</code>.</li>
                <li>Nomeie colunas e tabelas de forma clara e coerente.</li>
                <li>Fa√ßa backup antes de grandes altera√ß√µes.</li>
            </ul>

             TEND√äNCIAS E APLICA√á√ïES 
            <h4>üöÄ SQL Hoje e Amanh√£:</h4>
            <ul>
                <li>Integra√ß√£o com Big Data e Data Lakes.</li>
                <li>Uso em ferramentas de an√°lise e BI (Power BI, Tableau).</li>
                <li>Compatibilidade com bancos NoSQL h√≠bridos (como PostgreSQL JSONB).</li>
                <li>Automa√ß√£o com ORMs (Hibernate, Sequelize, Prisma).</li>
            </ul>
        `,
                        exercises: [
                            {
                                question: "O que significa SQL?",
                                options: ["Simple Query Language", "Structured Query Language", "System Query Logic", "Syntax Query List"],
                                correct: 1,
                                explanation: "SQL significa Structured Query Language, usada para gerenciar dados em bancos relacionais."
                            },
                            {
                                question: "Qual comando SQL √© usado para consultar dados?",
                                options: ["INSERT", "UPDATE", "SELECT", "DELETE"],
                                correct: 2,
                                explanation: "O comando SELECT √© usado para consultar e visualizar dados em tabelas."
                            },
                            {
                                question: "Qual comando adiciona novos registros a uma tabela?",
                                options: ["UPDATE", "ALTER", "INSERT", "CREATE"],
                                correct: 2,
                                explanation: "O comando INSERT √© utilizado para inserir novos registros em uma tabela."
                            },
                            {
                                question: "Para atualizar o campo 'cidade' de um cliente espec√≠fico, qual comando √© usado?",
                                options: ["UPDATE", "SELECT", "ALTER", "CHANGE"],
                                correct: 0,
                                explanation: "UPDATE √© o comando que altera dados existentes em uma tabela."
                            },
                            {
                                question: "Qual comando remove registros de uma tabela?",
                                options: ["DELETE", "DROP", "REMOVE", "ERASE"],
                                correct: 0,
                                explanation: "DELETE √© usado para remover linhas de uma tabela sem apagar sua estrutura."
                            },
                            {
                                question: "Qual cl√°usula √© usada para filtrar resultados em uma consulta?",
                                options: ["WHERE", "ORDER BY", "GROUP BY", "HAVING"],
                                correct: 0,
                                explanation: "A cl√°usula WHERE filtra registros de acordo com uma condi√ß√£o espec√≠fica."
                            }
                        ]
                    }
                },
                {
                    id: 4,
                    title: "SQL Avan√ßado",
                    description: "JOINs, subconsultas, fun√ß√µes e otimiza√ß√£o",
                    duration: "3h",
                    exercises: 36,
                    videos: 4,
                    completed: false,
                    content: {
                        theory: `
            SE√á√ÉO DE TEORIA: SQL AVAN√áADO COMPLETA 
            Esta se√ß√£o aborda conceitos essenciais de SQL avan√ßado, como JOINs, subconsultas, fun√ß√µes e otimiza√ß√£o de desempenho.
            
            <h3>üß† SQL Avan√ßado: Domine Consultas Complexas e Desempenho</h3>
            <p>SQL Avan√ßado amplia o poder do desenvolvedor ao permitir manipula√ß√£o, an√°lise e integra√ß√£o de grandes volumes de dados de forma eficiente.</p>
            
            <h4>üîó JOINs Avan√ßados</h4>
            <p>JOINs permitem combinar dados de duas ou mais tabelas com base em colunas relacionadas. Entender seus tipos e comportamentos √© essencial.</p>
            
            <h5>INNER JOIN:</h5>
            <ul>
                <li>Retorna apenas registros com correspond√™ncia nas duas tabelas.</li>
                <li><strong>Exemplo:</strong> 
                    <pre>SELECT a.nome, b.departamento 
FROM funcionarios a 
INNER JOIN departamentos b ON a.depto_id = b.id;</pre>
                </li>
            </ul>
            
            <h5>LEFT JOIN (ou LEFT OUTER JOIN):</h5>
            <ul>
                <li>Retorna todos os registros da tabela √† esquerda, mesmo sem correspond√™ncia na direita.</li>
                <li><strong>Exemplo:</strong> 
                    <pre>SELECT a.nome, b.departamento 
FROM funcionarios a 
LEFT JOIN departamentos b ON a.depto_id = b.id;</pre>
                </li>
            </ul>
            
            <h5>RIGHT JOIN:</h5>
            <ul>
                <li>Retorna todos os registros da tabela √† direita, mesmo sem correspond√™ncia na esquerda.</li>
                <li><strong>Exemplo:</strong>
                    <pre>SELECT a.nome, b.departamento 
FROM funcionarios a 
RIGHT JOIN departamentos b ON a.depto_id = b.id;</pre>
                </li>
            </ul>
            
            <h5>FULL JOIN:</h5>
            <ul>
                <li>Combina resultados de LEFT e RIGHT JOIN, retornando todos os registros com ou sem correspond√™ncia.</li>
                <li><strong>Exemplo:</strong> 
                    <pre>SELECT a.nome, b.departamento 
FROM funcionarios a 
FULL JOIN departamentos b ON a.depto_id = b.id;</pre>
                </li>
            </ul>
            
            <h4>üîç Subconsultas (Subqueries)</h4>
            <p>Subconsultas s√£o consultas dentro de outras consultas. Elas podem aparecer em cl√°usulas <code>SELECT</code>, <code>FROM</code> ou <code>WHERE</code>.</p>
            
            <h5>Subconsulta no WHERE:</h5>
            <pre>SELECT nome 
FROM funcionarios 
WHERE salario > (SELECT AVG(salario) FROM funcionarios);</pre>
            
            <h5>Subconsulta no FROM (tabela derivada):</h5>
            <pre>SELECT depto, media_salario 
FROM (SELECT depto, AVG(salario) AS media_salario FROM funcionarios GROUP BY depto) t;</pre>
            
            <h5>Subconsulta Correlacionada:</h5>
            <p>Depende da linha atual da consulta principal.</p>
            <pre>SELECT nome 
FROM funcionarios f 
WHERE salario > (SELECT AVG(salario) FROM funcionarios WHERE depto_id = f.depto_id);</pre>
            
            <h4>‚öôÔ∏è Fun√ß√µes Avan√ßadas</h4>
            
            <h5>Fun√ß√µes de Agrega√ß√£o:</h5>
            <ul>
                <li><code>SUM()</code> ‚Äì Soma valores</li>
                <li><code>AVG()</code> ‚Äì M√©dia</li>
                <li><code>MAX()</code>, <code>MIN()</code> ‚Äì Maior e menor valor</li>
                <li><code>COUNT()</code> ‚Äì Conta registros</li>
            </ul>
            
            <h5>Fun√ß√µes de Texto:</h5>
            <ul>
                <li><code>UPPER()</code>, <code>LOWER()</code> ‚Äì Converte texto</li>
                <li><code>CONCAT()</code> ‚Äì Junta strings</li>
                <li><code>SUBSTRING()</code> ‚Äì Extrai parte de texto</li>
            </ul>
            
            <h5>Fun√ß√µes de Data:</h5>
            <ul>
                <li><code>NOW()</code> ‚Äì Data e hora atual</li>
                <li><code>DATEDIFF()</code> ‚Äì Diferen√ßa entre datas</li>
                <li><code>DATE_FORMAT()</code> ‚Äì Formata datas</li>
            </ul>
            
            <h5>Fun√ß√µes de Janela (Window Functions):</h5>
            <p>Permitem c√°lculos sobre conjuntos de linhas relacionadas √† linha atual, sem agrupar os resultados.</p>
            <pre>SELECT nome, depto, salario,
       RANK() OVER (PARTITION BY depto ORDER BY salario DESC) AS ranking
FROM funcionarios;</pre>
            
            <h4>üß© Cl√°usulas Avan√ßadas</h4>
            
            <h5>CASE:</h5>
            <p>Usada para criar condi√ß√µes dentro de consultas.</p>
            <pre>SELECT nome,
       CASE 
            WHEN salario > 5000 THEN 'Alto'
            WHEN salario BETWEEN 3000 AND 5000 THEN 'M√©dio'
            ELSE 'Baixo'
       END AS nivel_salarial
FROM funcionarios;</pre>
            
            <h5>COALESCE e NULLIF:</h5>
            <ul>
                <li><code>COALESCE(valor1, valor2)</code> ‚Äì Retorna o primeiro valor n√£o nulo.</li>
                <li><code>NULLIF(a, b)</code> ‚Äì Retorna NULL se os valores forem iguais.</li>
            </ul>
            
            <h4>üöÄ Otimiza√ß√£o de Consultas</h4>
            
            <ul>
                <li>Use √≠ndices em colunas usadas em filtros (<code>WHERE</code>, <code>JOIN</code>).</li>
                <li>Evite subconsultas desnecess√°rias ‚Äì prefira <code>JOINs</code>.</li>
                <li>Selecione apenas colunas necess√°rias.</li>
                <li>Analise planos de execu√ß√£o (<code>EXPLAIN</code>).</li>
                <li>Use <code>LIMIT</code> para restringir resultados quando poss√≠vel.</li>
            </ul>
            
            <h4>üìà Boas Pr√°ticas</h4>
            <ul>
                <li>Normalize os dados, mas saiba quando desnormalizar para performance.</li>
                <li>Evite SELECT * em produ√ß√£o.</li>
                <li>Comente consultas complexas.</li>
                <li>Use transa√ß√µes para garantir consist√™ncia (<code>BEGIN</code>, <code>COMMIT</code>, <code>ROLLBACK</code>).</li>
            </ul>
        `,
                        exercises: [
                            {
                                question: "O que faz um INNER JOIN?",
                                options: ["Combina todas as linhas das tabelas", "Retorna todos os registros da tabela √† esquerda", "Remove duplicatas", "Retorna apenas registros com correspond√™ncia em ambas as tabelas"],
                                correct: 3,
                                explanation: "INNER JOIN retorna apenas os registros que possuem correspond√™ncia nas duas tabelas envolvidas."
                            },
                            {
                                question: "Qual comando √© usado para criar uma subconsulta no SQL?",
                                options: ["SELECT dentro de outro SELECT", "INSERT dentro de UPDATE", "JOIN dentro de DELETE", "GROUP BY dentro de ORDER BY"],
                                correct: 0,
                                explanation: "Uma subconsulta √© criada colocando um SELECT dentro de outro SELECT, geralmente nas cl√°usulas WHERE, FROM ou HAVING."
                            },
                            {
                                question: "Qual fun√ß√£o retorna o n√∫mero total de registros?",
                                options: ["SUM()", "COUNT()", "MAX()", "AVG()"],
                                correct: 1,
                                explanation: "COUNT() √© usada para contar o n√∫mero de linhas retornadas por uma consulta."
                            },
                            {
                                question: "O que faz a fun√ß√£o COALESCE()?",
                                options: ["Retorna o primeiro valor nulo", "Retorna o primeiro valor n√£o nulo", "Remove duplicatas", "Compara duas colunas"],
                                correct: 1,
                                explanation: "COALESCE() retorna o primeiro valor n√£o nulo em uma lista de express√µes."
                            },
                            {
                                question: "Como melhorar a performance de uma consulta SQL?",
                                options: ["Usar SELECT *", "Adicionar mais subconsultas", "Criar √≠ndices em colunas usadas em filtros", "Remover todas as restri√ß√µes"],
                                correct: 2,
                                explanation: "√çndices aceleram buscas e filtragens, melhorando significativamente a performance de consultas."
                            },
                            {
                                question: "O que √© uma fun√ß√£o de janela (Window Function)?",
                                options: ["Fun√ß√£o que substitui GROUP BY", "Fun√ß√£o usada apenas em views", "Fun√ß√£o de backup de dados", "Fun√ß√£o que calcula valores sobre um conjunto de linhas relacionadas √† linha atual"],
                                correct: 3,
                                explanation: "Fun√ß√µes de janela permitem c√°lculos como RANK, SUM ou AVG sobre grupos de linhas sem agrupar os resultados."
                            }
                        ]
                    }
                },
                {
                    id: 5,
                    title: "√çndices e Performance",
                    description: "Otimiza√ß√£o de consultas, √≠ndices e an√°lise de performance",
                    duration: "2h",
                    exercises: 36,
                    videos: 2,
                    completed: false,
                    content: {
                        theory: `
            SE√á√ÉO DE TEORIA: √çNDICES E PERFORMANCE EM SQL COMPLETA 
            Esta se√ß√£o aborda as principais t√©cnicas para otimizar consultas SQL e melhorar o desempenho de bancos de dados relacionais.
            
            <h3>‚ö° √çndices e Performance: Acelerando Consultas SQL</h3>
            <p>Em bancos de dados, o desempenho das consultas √© essencial. √Ä medida que os volumes de dados aumentam, o uso de √≠ndices e t√©cnicas de otimiza√ß√£o tornam-se fundamentais para garantir respostas r√°pidas e eficientes.</p>

            <h4>üìö O Que S√£o √çndices?</h4>
            <p>Um √≠ndice √© uma estrutura auxiliar que melhora a velocidade das opera√ß√µes de consulta em uma tabela, funcionando como um √≠ndice de livro ‚Äî permitindo localizar informa√ß√µes sem ler tudo.</p>
            <ul>
                <li><strong>Objetivo:</strong> Aumentar a velocidade de consultas SELECT.</li>
                <li><strong>Desvantagem:</strong> Consome mais espa√ßo e pode deixar inser√ß√µes e atualiza√ß√µes mais lentas.</li>
                <li><strong>Analogia:</strong> Um √≠ndice √© como o sum√°rio de um livro ‚Äî permite encontrar informa√ß√µes sem ler todas as p√°ginas.</li>
            </ul>

            <h4>üß© Tipos de √çndices</h4>
            <ul>
                <li><strong>√çndice Clusterizado (Clustered Index):</strong>
                    <ul>
                        <li>Organiza fisicamente os dados da tabela.</li>
                        <li>A tabela pode ter apenas um √≠ndice clusterizado.</li>
                        <li>Exemplo: Chave prim√°ria (PRIMARY KEY).</li>
                    </ul>
                </li>
                <li><strong>√çndice N√£o Clusterizado (Non-Clustered Index):</strong>
                    <ul>
                        <li>Cria uma estrutura separada que referencia os dados.</li>
                        <li>Pode haver v√°rios √≠ndices n√£o clusterizados.</li>
                        <li>√ötil para colunas frequentemente usadas em filtros.</li>
                    </ul>
                </li>
                <li><strong>√çndice √önico (Unique Index):</strong>
                    <ul>
                        <li>Garante que os valores da coluna sejam √∫nicos.</li>
                        <li>Exemplo: Email de usu√°rios.</li>
                    </ul>
                </li>
                <li><strong>√çndices Compostos:</strong>
                    <ul>
                        <li>Usam m√∫ltiplas colunas para indexa√ß√£o.</li>
                        <li>√öteis em consultas com m√∫ltiplas condi√ß√µes WHERE.</li>
                    </ul>
                </li>
                <li><strong>√çndices de Texto Completo (Full-Text Index):</strong>
                    <ul>
                        <li>Usados para pesquisas em colunas de texto longo.</li>
                        <li>Permitem buscas por palavras e frases.</li>
                    </ul>
                </li>
            </ul>

            <h4>‚öôÔ∏è Cria√ß√£o e Gerenciamento de √çndices</h4>
            <pre><code>CREATE INDEX idx_nome_coluna
ON tabela (coluna);</code></pre>
            <pre><code>CREATE UNIQUE INDEX idx_email
ON usuarios (email);</code></pre>
            <pre><code>DROP INDEX idx_nome_coluna ON tabela;</code></pre>

            <p>√â importante planejar quais colunas ser√£o indexadas, pois cada √≠ndice consome espa√ßo e impacta em opera√ß√µes de escrita (INSERT, UPDATE, DELETE).</p>

            <h4>üìà An√°lise de Performance e Plano de Execu√ß√£o</h4>
            <ul>
                <li>Os SGBDs (como MySQL, PostgreSQL e SQL Server) possuem ferramentas de an√°lise de consultas, como o comando <code>EXPLAIN</code> ou <code>EXPLAIN ANALYZE</code>.</li>
                <li>Essas ferramentas mostram se o banco est√° usando √≠ndices e como est√° percorrendo as tabelas (Table Scan, Index Scan, etc).</li>
            </ul>
            <pre><code>EXPLAIN SELECT nome FROM clientes WHERE cidade = 'S√£o Paulo';</code></pre>

            <p>O objetivo √© evitar o "Full Table Scan" (leitura completa da tabela) e favorecer o uso de √≠ndices.</p>

            <h4>üöÄ Boas Pr√°ticas de Otimiza√ß√£o</h4>
            <ul>
                <li>Crie √≠ndices em colunas usadas com frequ√™ncia em cl√°usulas WHERE e JOIN.</li>
                <li>Evite criar √≠ndices em colunas com alta repeti√ß√£o de valores (ex: g√™nero, ativo/inativo).</li>
                <li>Use SELECT apenas com as colunas necess√°rias (evite SELECT *).</li>
                <li>Prefira JOINs bem definidos com chaves indexadas.</li>
                <li>Analise o uso de LIMIT para restringir resultados grandes.</li>
            </ul>

            <h4>üßÆ Estat√≠sticas e Otimizador de Consultas</h4>
            <p>O otimizador do banco de dados usa estat√≠sticas sobre o tamanho das tabelas, √≠ndices e distribui√ß√£o de valores para determinar o melhor plano de execu√ß√£o.</p>
            <ul>
                <li><strong>Atualizar estat√≠sticas:</strong> ajuda o otimizador a escolher √≠ndices corretos.</li>
                <li><strong>Comandos:</strong>
                    <ul>
                        <li>MySQL: <code>ANALYZE TABLE tabela;</code></li>
                        <li>PostgreSQL: <code>VACUUM ANALYZE;</code></li>
                    </ul>
                </li>
            </ul>

            <h4>üí° T√©cnicas Avan√ßadas</h4>
            <ul>
                <li><strong>Particionamento:</strong> Divide grandes tabelas em partes menores, melhorando desempenho.</li>
                <li><strong>Materialized Views:</strong> Armazenam resultados de consultas complexas para acesso r√°pido.</li>
                <li><strong>Cache de Consultas:</strong> Usa resultados j√° processados para evitar reprocessamento.</li>
                <li><strong>√çndices Parciais:</strong> Indexam apenas linhas que atendem a uma condi√ß√£o espec√≠fica.</li>
            </ul>

            <h4>üß† Exemplos Pr√°ticos</h4>
            <pre><code>-- √çndice para acelerar busca por email
CREATE INDEX idx_usuarios_email ON usuarios(email);

-- √çndice composto para busca por cidade e estado
CREATE INDEX idx_clientes_localizacao ON clientes(cidade, estado);

-- Analisar consulta
EXPLAIN SELECT nome FROM clientes WHERE cidade = 'Curitiba';</code></pre>

            <p>Essas pr√°ticas s√£o essenciais em bases com milh√µes de registros, onde cada milissegundo importa.</p>

            <h4>‚úÖ Conclus√£o</h4>
            <p>√çndices s√£o ferramentas poderosas, mas devem ser usados com equil√≠brio. Um bom desenvolvedor SQL sabe quando e onde aplic√°-los para obter o m√°ximo de desempenho sem comprometer a integridade e o custo de manuten√ß√£o.</p>
        `,
                        exercises: [
                            {
                                question: "Qual √© a principal fun√ß√£o de um √≠ndice em um banco de dados?",
                                options: [
                                    "Aumentar o tamanho da tabela",
                                    "Armazenar c√≥pias de seguran√ßa dos dados",
                                    "Substituir chaves prim√°rias",
                                    "Melhorar a velocidade das consultas"
                                ],
                                correct: 3,
                                explanation: "√çndices servem para acelerar consultas, permitindo encontrar dados rapidamente sem percorrer toda a tabela."
                            },
                            {
                                question: "O que caracteriza um √≠ndice clusterizado?",
                                options: [
                                    "Ele cria uma tabela nova com os dados ordenados",
                                    "Organiza fisicamente os dados da tabela conforme o √≠ndice",
                                    "N√£o altera a estrutura f√≠sica dos dados",
                                    "S√≥ pode ser criado em colunas VARCHAR"
                                ],
                                correct: 1,
                                explanation: "√çndices clusterizados reorganizam fisicamente os dados da tabela de acordo com a ordem definida no √≠ndice."
                            },
                            {
                                question: "Qual desvantagem est√° associada ao uso excessivo de √≠ndices?",
                                options: [
                                    "Reduz a seguran√ßa dos dados",
                                    "Aumenta o consumo de CPU",
                                    "Diminui a performance de escrita (INSERT, UPDATE, DELETE)",
                                    "Impede a cria√ß√£o de chaves estrangeiras"
                                ],
                                correct: 2,
                                explanation: "Cada √≠ndice precisa ser atualizado a cada modifica√ß√£o, tornando as opera√ß√µes de escrita mais lentas."
                            },
                            {
                                question: "Qual comando √© usado para verificar o plano de execu√ß√£o de uma consulta?",
                                options: ["CHECK PLAN", "EXPLAIN", "VERIFY INDEX", "SHOW QUERY"],
                                correct: 1,
                                explanation: "O comando EXPLAIN mostra como o banco de dados executar√° a consulta e se usar√° √≠ndices."
                            },
                            {
                                question: "Quando um √≠ndice composto √© mais indicado?",
                                options: [
                                    "Quando h√° muitas colunas com valores nulos",
                                    "Quando a consulta usa v√°rias colunas no filtro WHERE",
                                    "Quando a tabela tem poucos registros",
                                    "Quando a tabela √© tempor√°ria"
                                ],
                                correct: 1,
                                explanation: "√çndices compostos s√£o √∫teis quando consultas filtram com mais de uma coluna, otimizando a busca combinada."
                            },
                            {
                                question: "Qual pr√°tica ajuda a evitar lentid√£o em consultas SQL?",
                                options: [
                                    "Usar SELECT * em todas as consultas",
                                    "Criar √≠ndices em todas as colunas",
                                    "Indexar colunas frequentemente filtradas",
                                    "Excluir √≠ndices ap√≥s cada consulta"
                                ],
                                correct: 2,
                                explanation: "Indexar colunas usadas com frequ√™ncia em filtros e joins melhora a efici√™ncia das consultas sem sobrecarregar o sistema."
                            }
                        ]
                    }
                },
                {
                    id: 6,
                    title: "Transa√ß√µes e Concorr√™ncia",
                    description: "ACID, transa√ß√µes, locks e controle de concorr√™ncia",
                    duration: "2h",
                    exercises: 36,
                    videos: 1,
                    completed: false,
                    content: {
                        theory: `
             SE√á√ÉO DE TEORIA: TRANSA√á√ïES E CONTROLE DE CONCORR√äNCIA 
             Esta se√ß√£o aborda os conceitos fundamentais sobre transa√ß√µes em bancos de dados, propriedades ACID e mecanismos para controle de concorr√™ncia e integridade.
            
            <h3>üíæ Transa√ß√µes e Concorr√™ncia em Bancos de Dados</h3>
            <p>Uma transa√ß√£o √© uma sequ√™ncia de opera√ß√µes executadas como uma unidade l√≥gica de trabalho. O controle de transa√ß√µes e concorr√™ncia √© essencial para garantir a consist√™ncia e integridade dos dados, especialmente em sistemas multiusu√°rio.</p>

             CONCEITOS B√ÅSICOS 
            <h4>üìñ O que √© uma Transa√ß√£o?</h4>
            <ul>
                <li>√â uma sequ√™ncia de opera√ß√µes de leitura e escrita em um banco de dados que deve ser executada completamente ou n√£o ser executada.</li>
                <li>Exemplo: Transferir dinheiro entre contas ‚Äî se uma conta √© debitada e a outra n√£o √© creditada, ocorre inconsist√™ncia.</li>
                <li>As transa√ß√µes garantem que o banco permane√ßa em um estado consistente mesmo diante de falhas.</li>
            </ul>

             PROPRIEDADES ACID 
            <h4>‚öôÔ∏è Propriedades ACID:</h4>
            <ul>
                <li><strong>A - Atomicidade:</strong> Tudo ou nada. Uma transa√ß√£o deve ser totalmente executada ou revertida.</li>
                <li><strong>C - Consist√™ncia:</strong> O banco deve passar de um estado v√°lido para outro estado v√°lido.</li>
                <li><strong>I - Isolamento:</strong> As transa√ß√µes n√£o devem interferir umas nas outras.</li>
                <li><strong>D - Durabilidade:</strong> Depois de confirmada (commit), a transa√ß√£o √© permanente, mesmo com falhas no sistema.</li>
            </ul>

            <h5>üí° Exemplo Pr√°tico (Transfer√™ncia Banc√°ria):</h5>
            <pre>
BEGIN TRANSACTION;
UPDATE contas SET saldo = saldo - 100 WHERE id = 1; -- D√©bito
UPDATE contas SET saldo = saldo + 100 WHERE id = 2; -- Cr√©dito
COMMIT;
            </pre>
            <p>Se uma das opera√ß√µes falhar, a transa√ß√£o √© revertida com <code>ROLLBACK</code>, garantindo atomicidade.</p>

             ISOLAMENTO E CONCORR√äNCIA 
            <h4>üîí N√≠veis de Isolamento:</h4>
            <ul>
                <li><strong>Read Uncommitted:</strong> Permite leituras sujas (transa√ß√µes veem dados n√£o confirmados).</li>
                <li><strong>Read Committed:</strong> Garante que apenas dados confirmados s√£o lidos.</li>
                <li><strong>Repeatable Read:</strong> Garante que leituras repetidas retornam os mesmos resultados dentro da transa√ß√£o.</li>
                <li><strong>Serializable:</strong> O n√≠vel mais alto ‚Äî executa as transa√ß√µes como se fossem em s√©rie, evitando qualquer interfer√™ncia.</li>
            </ul>

             PROBLEMAS DE CONCORR√äNCIA 
            <h4>‚ö†Ô∏è Problemas Cl√°ssicos de Concorr√™ncia:</h4>
            <ul>
                <li><strong>Dirty Read:</strong> Uma transa√ß√£o l√™ dados modificados por outra que ainda n√£o fez commit.</li>
                <li><strong>Non-Repeatable Read:</strong> Uma transa√ß√£o l√™ o mesmo dado duas vezes e obt√©m valores diferentes.</li>
                <li><strong>Phantom Read:</strong> Uma transa√ß√£o executa a mesma consulta e obt√©m mais (ou menos) linhas na segunda vez.</li>
                <li><strong>Lost Update:</strong> Duas transa√ß√µes atualizam o mesmo dado e uma sobrescreve o resultado da outra.</li>
            </ul>

             MECANISMOS DE CONTROLE 
            <h4>üß† Controle de Concorr√™ncia:</h4>
            <ul>
                <li><strong>Bloqueios (Locks):</strong> Impedem que v√°rias transa√ß√µes modifiquem o mesmo dado simultaneamente.</li>
                <li><strong>Timestamp Ordering:</strong> Cada transa√ß√£o recebe um carimbo de tempo e o SGBD controla a ordem das opera√ß√µes.</li>
                <li><strong>MVCC (Multiversion Concurrency Control):</strong> Mant√©m m√∫ltiplas vers√µes dos dados para permitir leitura sem bloqueio (usado em PostgreSQL, Oracle, etc.).</li>
                <li><strong>Deadlock Detection:</strong> O SGBD detecta e resolve impasses quando transa√ß√µes ficam esperando uma √† outra.</li>
            </ul>

            <h5>üîë Tipos de Locks:</h5>
            <ul>
                <li><strong>Shared Lock (S):</strong> Permite leitura compartilhada.</li>
                <li><strong>Exclusive Lock (X):</strong> Permite escrita exclusiva, bloqueando outros acessos.</li>
                <li><strong>Row-Level Lock:</strong> Bloqueia apenas uma linha.</li>
                <li><strong>Table-Level Lock:</strong> Bloqueia a tabela inteira.</li>
            </ul>

             TRANSA√á√ïES EM SQL 
            <h4>üßæ Comandos de Transa√ß√£o em SQL:</h4>
            <ul>
                <li><code>BEGIN TRANSACTION</code> ‚Äî Inicia uma transa√ß√£o.</li>
                <li><code>COMMIT</code> ‚Äî Confirma e torna permanentes as altera√ß√µes.</li>
                <li><code>ROLLBACK</code> ‚Äî Desfaz todas as opera√ß√µes realizadas na transa√ß√£o atual.</li>
                <li><code>SAVEPOINT</code> ‚Äî Define um ponto de restaura√ß√£o parcial dentro da transa√ß√£o.</li>
            </ul>

            <h5>üí° Exemplo com SAVEPOINT:</h5>
            <pre>
BEGIN TRANSACTION;
UPDATE produtos SET estoque = estoque - 10 WHERE id = 5;
SAVEPOINT etapa1;
UPDATE pedidos SET status = 'enviado' WHERE id = 102;
ROLLBACK TO etapa1; -- desfaz apenas a √∫ltima opera√ß√£o
COMMIT;
            </pre>

             BOAS PR√ÅTICAS 
            <h4>‚úÖ Boas Pr√°ticas com Transa√ß√µes:</h4>
            <ul>
                <li>Manter transa√ß√µes curtas ‚Äî quanto mais longas, maior o risco de bloqueios.</li>
                <li>Evitar abrir transa√ß√µes desnecess√°rias.</li>
                <li>Garantir que cada transa√ß√£o termina com COMMIT ou ROLLBACK.</li>
                <li>Escolher o n√≠vel de isolamento apropriado ao caso de uso.</li>
                <li>Monitorar e tratar deadlocks no sistema.</li>
            </ul>

             DESEMPENHO E ESCALABILIDADE 
            <h4>üöÄ Otimiza√ß√£o e Escalabilidade:</h4>
            <ul>
                <li><strong>Batch Transactions:</strong> Agrupar opera√ß√µes reduz overhead.</li>
                <li><strong>Uso de √≠ndices:</strong> Minimiza lock e melhora desempenho em transa√ß√µes de leitura.</li>
                <li><strong>Shard e Replica√ß√£o:</strong> Distribuem carga e reduzem conten√ß√£o de bloqueios.</li>
                <li><strong>MVCC:</strong> Ideal para sistemas com muitas leituras simult√¢neas.</li>
            </ul>

             CONCLUS√ÉO 
            <h4>üéØ Resumo:</h4>
            <ul>
                <li>Transa√ß√µes garantem consist√™ncia e confiabilidade.</li>
                <li>ACID define os pilares da integridade transacional.</li>
                <li>O controle de concorr√™ncia evita conflitos entre m√∫ltiplos usu√°rios.</li>
                <li>Bloqueios, timestamps e MVCC s√£o as principais estrat√©gias de controle.</li>
                <li>Equilibrar isolamento e desempenho √© a chave para sistemas eficientes.</li>
            </ul>
        `,
                        exercises: [
                            {
                                question: "O que √© uma transa√ß√£o em um banco de dados?",
                                options: ["Um tipo de tabela", "Um conjunto de opera√ß√µes que formam uma unidade de trabalho", "Um backup de dados", "Um comando SQL de leitura"],
                                correct: 1,
                                explanation: "Uma transa√ß√£o √© um conjunto de opera√ß√µes executadas como uma unidade l√≥gica, garantindo consist√™ncia dos dados."
                            },
                            {
                                question: "O que significa o 'A' no acr√¥nimo ACID?",
                                options: ["Atomicidade", "Acessibilidade", "Autoriza√ß√£o", "Atualiza√ß√£o"],
                                correct: 0,
                                explanation: "Atomicidade significa que a transa√ß√£o deve ser executada completamente ou revertida totalmente."
                            },
                            {
                                question: "Qual propriedade ACID garante que os dados permane√ßam corretos ap√≥s uma falha?",
                                options: ["Isolamento", "Durabilidade", "Consist√™ncia", "Velocidade"],
                                correct: 1,
                                explanation: "Durabilidade assegura que os dados confirmados (commit) persistem mesmo ap√≥s falhas no sistema."
                            },
                            {
                                question: "O que √© um 'deadlock'?",
                                options: ["Erro de sintaxe SQL", "Quando duas transa√ß√µes esperam recursos uma da outra", "Falha de conex√£o com o banco", "Atualiza√ß√£o autom√°tica"],
                                correct: 1,
                                explanation: "Deadlock ocorre quando duas ou mais transa√ß√µes ficam presas esperando recursos que a outra mant√©m bloqueados."
                            },
                            {
                                question: "Qual n√≠vel de isolamento evita completamente leituras sujas?",
                                options: ["Read Uncommitted", "Read Committed", "Serializable", "Snapshot"],
                                correct: 2,
                                explanation: "O n√≠vel Serializable garante total isolamento, evitando leituras sujas, n√£o repet√≠veis e leituras fantasmas."
                            },
                            {
                                question: "O que o comando ROLLBACK faz?",
                                options: ["Salva dados", "Desfaz altera√ß√µes da transa√ß√£o atual", "Apaga tabelas", "Inicia uma transa√ß√£o"],
                                correct: 1,
                                explanation: "ROLLBACK desfaz todas as opera√ß√µes realizadas na transa√ß√£o corrente, retornando o banco ao estado anterior."
                            }
                        ]
                    }
                }
            ]
        };

        // ===== VARI√ÅVEIS GLOBAIS =====
        let currentChapter = null; // Cap√≠tulo atualmente selecionado
        let currentExercise = 0;   // Exerc√≠cio atual

        // ===== INICIALIZA√á√ÉO =====
        /**
         * Fun√ß√£o executada quando a p√°gina carrega
         * Verifica autentica√ß√£o e carrega conte√∫do do curso
         */
        document.addEventListener('DOMContentLoaded', function () {
            console.log('[NavCode] Inicializando curso de inform√°tica...');

            try {
                // Verificar se usu√°rio est√° logado
                console.log('[NavCode] Verificando login...');
                if (!isUserLoggedIn()) {
                    console.log('[NavCode] Usu√°rio n√£o logado, redirecionando...');
                    alert('Voc√™ precisa estar logado para acessar este curso!');
                    window.location.href = 'login.html';
                    return;
                }
                console.log('[NavCode] Usu√°rio logado!');

                // Carregar progresso do usu√°rio
                console.log('[NavCode] Carregando progresso do usu√°rio...');
                loadUserProgress();
                console.log('[NavCode] Progresso carregado!');

                // Carregar cap√≠tulos do curso
                console.log('[NavCode] Carregando cap√≠tulos...');
                loadChapters();
                console.log('[NavCode] Cap√≠tulos carregados!');

                console.log('[NavCode] Curso carregado com sucesso!');
            } catch (error) {
                console.error('[NavCode] Erro durante inicializa√ß√£o:', error);
                alert('Erro ao carregar o curso. Verifique o console para mais detalhes.');
            }
        });

        // ===== FUN√á√ïES DE CARREGAMENTO =====
        /**
         * Carrega progresso salvo do usu√°rio
         */
        function loadUserProgress() {
            const savedProgress = localStorage.getItem(`navcode_course_progress_${courseId}`);
            if (savedProgress) {
                userProgress = JSON.parse(savedProgress);
            } else {
                // Inicializar progresso vazio
                userProgress = {
                    courseId: courseId,
                    completedChapters: [],
                    chapterProgress: {},
                    quizScores: {},
                    examScores: {},
                    currentChapter: 1
                };
            }

            // Atualizar interface com progresso
            updateProgressDisplay();
            return userProgress;
        }

        /**
         * Atualiza exibi√ß√£o do progresso na interface
         */
        function updateProgressDisplay() {
            if (!userProgress) {
                console.warn('[NavCode] userProgress n√£o est√° definido, n√£o √© poss√≠vel atualizar a exibi√ß√£o');
                return;
            }

            const completedCount = userProgress.completedChapters.length;
            const totalChapters = courseData.totalChapters;
            const percentage = Math.round((completedCount / totalChapters) * 100);

            // Atualizar elementos da interface
            document.getElementById('completed-chapters').textContent = completedCount;
            document.getElementById('total-chapters').textContent = totalChapters;
            document.getElementById('course-progress-percentage').textContent = percentage;

            // Animar barra de progresso
            const progressFill = document.getElementById('course-progress-fill');
            setTimeout(() => {
                progressFill.style.width = `${percentage}%`;
            }, 300);
        }

        /**
         * Carrega e exibe todos os cap√≠tulos do curso
         */
        function loadChapters() {
            console.log('[NavCode] Iniciando loadChapters()');
            const chaptersGrid = document.getElementById('chapters-grid');

            if (!chaptersGrid) {
                console.error('[NavCode] Elemento chapters-grid n√£o encontrado!');
                return;
            }

            console.log('[NavCode] Elemento chapters-grid encontrado, limpando conte√∫do...');
            chaptersGrid.innerHTML = '';

            console.log('[NavCode] Total de cap√≠tulos:', courseData.chapters.length);

            // Criar cart√£o para cada cap√≠tulo
            courseData.chapters.forEach((chapter, index) => {
                console.log(`[NavCode] Criando card para cap√≠tulo ${index + 1}: ${chapter.title}`);
                const chapterCard = createChapterCard(chapter, index);
                chaptersGrid.appendChild(chapterCard);
            });

            console.log('[NavCode] Todos os cap√≠tulos foram adicionados √† grid');
        }

        /**
         * Cria elemento HTML para um cap√≠tulo
         * @param {Object} chapter - Dados do cap√≠tulo
         * @param {number} index - √çndice do cap√≠tulo
         * @returns {HTMLElement} - Elemento do cart√£o
         */
        function createChapterCard(chapter, index) {
            console.log(`[NavCode] Criando card para cap√≠tulo ${chapter.id}: ${chapter.title}`);

            if (!userProgress) {
                console.error('[NavCode] userProgress n√£o est√° definido!');
                return null;
            }

            const isCompleted = userProgress.completedChapters.includes(chapter.id);
            const isLocked = index > 0 && !userProgress.completedChapters.includes(courseData.chapters[index - 1].id);

            console.log(`[NavCode] Cap√≠tulo ${chapter.id} - Conclu√≠do: ${isCompleted}, Bloqueado: ${isLocked}`);

            const card = document.createElement('div');
            card.className = `chapter-card ${isCompleted ? 'completed' : ''} ${isLocked ? 'locked' : ''}`;

            // Definir a√ß√£o do clique
            if (!isLocked) {
                card.onclick = () => openChapter(chapter);
            }

            card.innerHTML = `
                <div class="chapter-header">
                    <div class="chapter-info">
                        <div class="chapter-icon-wrapper">
                            ${getChapterIcon(chapter.id, isCompleted, isLocked)}
                        </div>
                        <div class="chapter-details">
                            <h3>Cap√≠tulo ${chapter.id}: ${chapter.title}</h3>
                            <div class="chapter-duration">
                                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12,6 12,12 16,14"/>
                                </svg>
                                ${chapter.duration}
                            </div>
                        </div>
                    </div>
                    ${isCompleted ? '<div class="completion-badge">‚úì Conclu√≠do</div>' : ''}
                    ${isLocked ? '<div class="lock-badge">üîí Bloqueado</div>' : ''}
                </div>
                <div class="chapter-body">
                    <p class="chapter-description">${chapter.description}</p>
                    <div class="chapter-stats">
                        <div class="stat">
                            <span class="stat-number">${chapter.exercises}</span>
                            <span class="stat-label">Exerc√≠cios</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number">${chapter.videos}</span>
                            <span class="stat-label">V√≠deos</span>
                        </div>
                    </div>
                    <button class="chapter-button ${isLocked ? 'disabled' : 'primary'}" ${isLocked ? 'disabled' : ''}>
                        ${isLocked ? 'Bloqueado' : isCompleted ? 'Revisar Cap√≠tulo' : 'Iniciar Cap√≠tulo'}
                    </button>
                </div>
            `;

            return card;
        }

        /**
         * Retorna √≠cone apropriado para o cap√≠tulo
         * @param {number} chapterId - ID do cap√≠tulo
         * @param {boolean} isCompleted - Se est√° conclu√≠do
         * @param {boolean} isLocked - Se est√° bloqueado
         * @returns {string} - HTML do √≠cone
         */
        function getChapterIcon(chapterId, isCompleted, isLocked) {
            if (isLocked) {
                return `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                    <circle cx="12" cy="16" r="1"/>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>`;
            }

            if (isCompleted) {
                return `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                    <polyline points="22,4 12,14.01 9,11.01"/>
                </svg>`;
            }

            // √çcones espec√≠ficos por cap√≠tulo
            const icons = {
                1: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                    <line x1="8" y1="21" x2="16" y2="21"/>
                    <line x1="12" y1="17" x2="12" y2="21"/>
                </svg>`,
                2: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                </svg>`,
                3: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/>
                    <rect x="8" y="2" width="8" height="4" rx="1" ry="1"/>
                </svg>`,
                4: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>`,
                5: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                </svg>`,
                6: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
                </svg>`
            };

            return icons[chapterId] || icons[1];
        }

        // ===== FUN√á√ïES DE NAVEGA√á√ÉO =====
        /**
         * Abre um cap√≠tulo espec√≠fico
         * @param {Object} chapter - Dados do cap√≠tulo
         */
        function openChapter(chapter) {
            currentChapter = chapter;
            currentExercise = 0;

            // Esconder grid de cap√≠tulos
            document.getElementById('chapters-grid').style.display = 'none';

            // Mostrar √°rea de conte√∫do
            const contentArea = document.getElementById('chapter-content');
            contentArea.style.display = 'block';

            // Carregar conte√∫do do cap√≠tulo
            loadChapterContent(chapter);

            console.log(`[NavCode] Cap√≠tulo aberto: ${chapter.title}`);
        }

        /**
         * Carrega conte√∫do de um cap√≠tulo
         * @param {Object} chapter - Dados do cap√≠tulo
         */
        function loadChapterContent(chapter) {
            const contentArea = document.getElementById('chapter-content');

            contentArea.innerHTML = `
                <div class="chapter-content-header">
                    <button class="back-btn" onclick="backToChapters()">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5"/>
                            <path d="M12 19l-7-7 7-7"/>
                        </svg>
                        Voltar aos Cap√≠tulos
                    </button>
                    <h2>Cap√≠tulo ${chapter.id}: ${chapter.title}</h2>
                </div>
                
                <div class="chapter-tabs">
                    <button class="tab-btn active" onclick="showTab('theory')">üìö Teoria</button>
                    <button class="tab-btn" onclick="showTab('exercises')">‚úèÔ∏è Exerc√≠cios</button>
                    <button class="tab-btn" onclick="showTab('videos')">üé• V√≠deos</button>
                    <button class="tab-btn" onclick="showTab('quiz')">üìù Quiz</button>
                    <button class="tab-btn" onclick="showTab('exam')">üéØ Prova</button>
                </div>
                
                <div class="tab-content">
                    <div id="theory-tab" class="tab-pane active">
                        <div class="theory-content">
                            ${chapter.content.theory}
                        </div>
                        <button class="btn btn-primary" onclick="showTab('exercises')">
                            Continuar para Exerc√≠cios ‚Üí
                        </button>
                    </div>
                    
                    <div id="exercises-tab" class="tab-pane">
                        <div id="exercise-content">
                            <!-- Exerc√≠cios ser√£o carregados aqui -->
                        </div>
                    </div>
                    
                    <div id="videos-tab" class="tab-pane">
                        <div class="videos-content">
                            <h3>üé• Videoaulas do Cap√≠tulo</h3>
                            <div class="videos-grid">
                                ${generateVideosList(chapter)}
                            </div>
                            <div class="videos-actions" style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid var(--border-color, #e0e0e0);">
                                <h4 style="margin-bottom: 1rem;">Pr√≥ximo Passo:</h4>
                                <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;">
                                    <button class="btn btn-primary" onclick="showQuizTab()" style="flex: 1; min-width: 200px; max-width: 300px;">
                                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px; height: 20px; margin-right: 8px;">
                                            <path d="M9 12l2 2 4-4"/>
                                            <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
                                            <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
                                        </svg>
                                        Fazer Quiz
                                    </button>
                                </div>
                                <p style="margin-top: 1rem; text-align: center; color: var(--text-secondary, #888); font-size: 0.9rem;">
                                    Ap√≥s fazer o quiz, voc√™ poder√° fazer a prova. O cap√≠tulo s√≥ ser√° conclu√≠do quando voc√™ for aprovado na prova (70% ou mais).
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="quiz-tab" class="tab-pane">
                        <div class="quiz-content">
                            <h3>üìù Quiz do Cap√≠tulo</h3>
                            <p>Teste seus conhecimentos com 10 perguntas sobre este cap√≠tulo:</p>
                            <div class="quiz-actions">
                                <button class="btn btn-primary" onclick="startQuiz(${chapter.id})">
                                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M9 12l2 2 4-4"/>
                                        <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
                                        <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
                                        <path d="M12 3c0 1-1 3-3 3s-3-2-3-3 1-3 3-3 3 2 3 3"/>
                                        <path d="M12 21c0-1 1-3 3-3s3 2 3 3-1 3-3 3-3-2-3-3"/>
                                    </svg>
                                    Iniciar Quiz
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="exam-tab" class="tab-pane">
                        <div class="exam-content">
                            <h3>üéØ Prova do Cap√≠tulo</h3>
                            <p>Fa√ßa a prova oficial com 10 perguntas em 30 minutos:</p>
                            <div class="exam-info">
                                <div class="exam-details">
                                    <div class="detail-item">
                                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <circle cx="12" cy="12" r="10"/>
                                            <path d="M12 6v6l4 2"/>
                                        </svg>
                                        <span>30 minutos</span>
                                    </div>
                                    <div class="detail-item">
                                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M9 12l2 2 4-4"/>
                                        </svg>
                                        <span>10 perguntas</span>
                                    </div>
                                    <div class="detail-item">
                                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                                        </svg>
                                        <span>70% para aprova√ß√£o</span>
                                    </div>
                                </div>
                            </div>
                            <div class="exam-actions">
                                <button class="btn btn-primary" onclick="startExam(${chapter.id})">
                                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    Iniciar Prova
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Carregar primeiro exerc√≠cio
            loadExercise(0);
        }

        /**
         * Gera lista de v√≠deos para o cap√≠tulo
         * @param {Object} chapter - Dados do cap√≠tulo
         * @returns {string} - HTML dos v√≠deos
         */
        function generateVideosList(chapter) {
            let videosHTML = '';
            for (let i = 1; i <= chapter.videos; i++) {
                videosHTML += `
                    <div class="video-card">
                        <div class="video-thumbnail">
                            <svg class="play-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5,3 19,12 5,21"/>
                            </svg>
                        </div>
                        <div class="video-info">
                            <h4>V√≠deo ${i}: ${chapter.title} - Parte ${i}</h4>
                            <p>Dura√ß√£o: ${Math.floor(Math.random() * 15) + 5} minutos</p>
                        </div>
                    </div>
                `;
            }
            return videosHTML;
        }

        /**
         * Mostra aba espec√≠fica do cap√≠tulo
         * @param {string} tabName - Nome da aba
         */
        function showTab(tabName) {
            // Remover classe active de todas as abas
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('active'));

            // Ativar aba selecionada
            document.querySelector(`[onclick="showTab('${tabName}')"]`).classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.add('active');

            // Carregar conte√∫do espec√≠fico se necess√°rio
            if (tabName === 'exercises') {
                loadExercise(currentExercise);
            }
        }

        /**
         * Carrega exerc√≠cio espec√≠fico
         * @param {number} exerciseIndex - √çndice do exerc√≠cio
         */
        function loadExercise(exerciseIndex) {
            if (!currentChapter || !currentChapter.content.exercises) return;

            const exercises = currentChapter.content.exercises;
            const exercise = exercises[exerciseIndex];

            if (!exercise) {
                // Todos os exerc√≠cios conclu√≠dos
                showExerciseCompletion();
                return;
            }

            const exerciseContent = document.getElementById('exercise-content');
            exerciseContent.innerHTML = `
                <div class="exercise-header">
                    <h3>Exerc√≠cio ${exerciseIndex + 1} de ${exercises.length}</h3>
                    <div class="exercise-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${((exerciseIndex) / exercises.length) * 100}%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="exercise-question">
                    <h4>${exercise.question}</h4>
                    <div class="exercise-options">
                        ${exercise.options.map((option, index) => `
                            <button class="option-btn" onclick="selectOption(${index})">
                                ${String.fromCharCode(65 + index)}) ${option}
                            </button>
                        `).join('')}
                    </div>
                </div>
                
                <div id="exercise-feedback" class="exercise-feedback" style="display: none;">
                    <!-- Feedback ser√° mostrado aqui -->
                </div>
                
                <div class="exercise-actions">
                    <button id="submit-btn" class="btn btn-primary" onclick="submitAnswer()" disabled>
                        Confirmar Resposta
                    </button>
                </div>
            `;
        }

        /**
         * Seleciona uma op√ß√£o no exerc√≠cio
         * @param {number} optionIndex - √çndice da op√ß√£o selecionada
         */
        function selectOption(optionIndex) {
            // Remover sele√ß√£o anterior
            document.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('selected'));

            // Selecionar nova op√ß√£o
            document.querySelectorAll('.option-btn')[optionIndex].classList.add('selected');

            // Habilitar bot√£o de submiss√£o
            document.getElementById('submit-btn').disabled = false;

            // Armazenar resposta selecionada
            window.selectedAnswer = optionIndex;
        }

        /**
         * Submete resposta do exerc√≠cio
         */
        function submitAnswer() {
            if (window.selectedAnswer === undefined) return;

            const exercise = currentChapter.content.exercises[currentExercise];
            const isCorrect = window.selectedAnswer === exercise.correct;

            // Mostrar feedback
            const feedbackDiv = document.getElementById('exercise-feedback');
            feedbackDiv.style.display = 'flex';
            feedbackDiv.innerHTML = `
                <div class="feedback ${isCorrect ? 'correct' : 'incorrect'}">
                    <div class="feedback-icon">
                        ${isCorrect ? '‚úÖ' : '‚ùå'}
                    </div>
                    <div class="feedback-content">
                        <h4>${isCorrect ? 'Correto!' : 'Incorreto'}</h4>
                        <p>${exercise.explanation}</p>
                        ${!isCorrect ? `<p><strong>Resposta correta:</strong> ${String.fromCharCode(65 + exercise.correct)}) ${exercise.options[exercise.correct]}</p>` : ''}
                    </div>
                </div>
                <button class="btn btn-primary" onclick="nextExercise()">
                    ${currentExercise < currentChapter.content.exercises.length - 1 ? 'Pr√≥ximo Exerc√≠cio' : 'Finalizar Cap√≠tulo'}
                </button>
            `;

            // Desabilitar op√ß√µes
            document.querySelectorAll('.option-btn').forEach(btn => btn.disabled = true);
            document.getElementById('submit-btn').style.display = 'none';
        }

        /**
         * Avan√ßa para pr√≥ximo exerc√≠cio
         */
        function nextExercise() {
            currentExercise++;
            window.selectedAnswer = undefined;
            loadExercise(currentExercise);
        }


        /**
         * Mostra tela de conclus√£o dos exerc√≠cios
         */
        function showExerciseCompletion() {
            const exerciseContent = document.getElementById('exercise-content');
            exerciseContent.innerHTML = `
        <div class="completion-screen">
            <div class="completion-icon">üéâ</div>
            <h3>Parab√©ns!</h3>
            <p>Voc√™ concluiu todos os exerc√≠cios deste cap√≠tulo!</p>
            <p style="margin-top: 1rem; color: var(--text-secondary, #888);">
                Agora voc√™ pode assistir aos v√≠deos e fazer o quiz. Para finalizar o cap√≠tulo, voc√™ precisa ser aprovado na prova.
            </p>
            
        </div>
    `;
        }

        /**
         * Redireciona para a aba de v√≠deos ap√≥s concluir exerc√≠cios
         */
        function goToVideos() {
            // Mostrar aba de v√≠deos do cap√≠tulo
            showVideosTab();
        }

        /**
         * Marca cap√≠tulo como conclu√≠do (apenas quando aprovado na prova)
         */
        function completeChapter() {
            if (!userProgress.completedChapters.includes(currentChapter.id)) {
                userProgress.completedChapters.push(currentChapter.id);

                // Salvar progresso espec√≠fico do curso
                saveUserProgress(userProgress);

                alert(`Cap√≠tulo "${currentChapter.title}" conclu√≠do com sucesso! üéâ`);

                // Liberar o pr√≥ximo cap√≠tulo (opcional, se existir essa l√≥gica)
                unlockNextChapter(currentChapter.id);

                // Atualizar exibi√ß√£o do progresso
                updateProgressDisplay();
            }
        }

        /**
         * Mostra aba de v√≠deos do cap√≠tulo
         */
        function showVideosTab() {
            document.querySelectorAll('.tab-pane').forEach(tab => {
                tab.classList.remove('active');
                tab.style.display = 'none';
            });

            // Atualizar bot√µes das abas
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            const videosBtn = document.querySelector('.tab-btn[onclick*="videos"]');
            if (videosBtn) {
                videosBtn.classList.add('active');
            }

            const videosTab = document.getElementById('videos-tab');
            if (videosTab) {
                videosTab.classList.add('active');
                videosTab.style.display = 'block';
            }
        }

        /**
         * Mostra aba de quiz do cap√≠tulo
         */
        function showQuizTab() {
            // Esconder todas as abas
            document.querySelectorAll('.tab-pane').forEach(tab => {
                tab.classList.remove('active');
                tab.style.display = 'none';
            });

            // Remover active de todos os bot√µes
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Ativar bot√£o do quiz
            const quizBtn = document.querySelector('.tab-btn[onclick*="quiz"]');
            if (quizBtn) {
                quizBtn.classList.add('active');
            }

            // Mostrar aba do quiz
            const quizTab = document.getElementById('quiz-tab');
            if (quizTab) {
                quizTab.classList.add('active');
                quizTab.style.display = 'block';
            }

            // Tentar chamar showTab se estiver dispon√≠vel (para garantir compatibilidade)
            try {
                if (typeof showTab === 'function') {
                    showTab('quiz');
                }
            } catch (e) {
                // Ignorar erro se showTab n√£o estiver dispon√≠vel
            }
        }

        /**
         * Mostra aba de prova do cap√≠tulo
         */
        function showExamTab() {
            // Esconder todas as abas
            document.querySelectorAll('.tab-pane').forEach(tab => {
                tab.classList.remove('active');
                tab.style.display = 'none';
            });

            // Remover active de todos os bot√µes
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Ativar bot√£o da prova
            const examBtn = document.querySelector('.tab-btn[onclick*="exam"]');
            if (examBtn) {
                examBtn.classList.add('active');
            }

            // Mostrar aba da prova
            const examTab = document.getElementById('exam-tab');
            if (examTab) {
                examTab.classList.add('active');
                examTab.style.display = 'block';
            }

            // Tentar chamar showTab se estiver dispon√≠vel (para garantir compatibilidade)
            try {
                if (typeof showTab === 'function') {
                    showTab('exam');
                }
            } catch (e) {
                // Ignorar erro se showTab n√£o estiver dispon√≠vel
            }
        }

        /**
         * Volta para a lista de cap√≠tulos
         */
        function backToChapters() {
            document.getElementById('chapter-content').style.display = 'none';
            document.getElementById('chapters-grid').style.display = 'grid';

            loadChapters();
            updateProgressDisplay();

            currentChapter = null;
        }

        /**
         * Libera o pr√≥ximo cap√≠tulo (exemplo opcional)
         */
        function unlockNextChapter(chapterId) {
            console.log(`[NavCode] Pr√≥ximo cap√≠tulo liberado ap√≥s concluir o ${chapterId}`);
        }

        /**
         * Volta para a p√°gina inicial
         */
        function goHome() {
            console.log('[NavCode] Redirecionando para p√°gina inicial...');
            try {
                window.location.href = 'cursos.html';
            } catch (error) {
                console.error('[NavCode] Erro ao redirecionar:', error);
                alert('Erro ao voltar para p√°gina inicial');
            }
        }


        // ===== FUN√á√ïES AUXILIARES =====
        /**
         * Verifica se usu√°rio est√° logado
         * @returns {boolean} - Status de login
         */
        function isUserLoggedIn() {
            return localStorage.getItem('navcode_logged_in') === 'true';
        }

        // ===== SISTEMA DE QUIZ E PROVA =====
        /**
         * Dados dos quizzes e provas por cap√≠tulo
         */
        const quizData = {
            1: { // Fundamentos de Banco de Dados
                quiz: [
                    {
                        question: "O que √© um banco de dados?",
                        options: ["Um programa de computador", "Sistema organizado para armazenar e gerenciar dados", "Um tipo de arquivo", "Uma rede de computadores"],
                        correct: 1,
                        explanation: "Banco de dados √© um sistema que armazena, organiza e gerencia informa√ß√µes de forma estruturada e eficiente."
                    },
                    {
                        question: "Qual √© a principal vantagem de usar banco de dados?",
                        options: ["Economizar dinheiro", "Organiza√ß√£o e f√°cil acesso aos dados", "Aumentar velocidade do computador", "Reduzir espa√ßo em disco"],
                        correct: 1,
                        explanation: "Bancos de dados permitem organizar, buscar e manipular dados de forma r√°pida e estruturada."
                    },
                    {
                        question: "O que √© um Sistema de Gerenciamento de Banco de Dados (SGBD)?",
                        options: ["Um arquivo", "Uma planilha", "Software que gerencia dados no banco", "Um tipo de documento"],
                        correct: 2,
                        explanation: "SGBD √© o software respons√°vel por criar, manipular, proteger e recuperar dados em bancos de dados."
                    },
                    {
                        question: "Qual √© a diferen√ßa entre dados e informa√ß√£o?",
                        options: ["N√£o h√° diferen√ßa", "Dados s√£o brutos; informa√ß√£o √© dados processados", "Informa√ß√£o √© armazenada; dados n√£o", "Dados s√£o maiores"],
                        correct: 1,
                        explanation: "Dados s√£o fatos brutos; informa√ß√£o √© dados processados e interpretados com significado."
                    },
                    {
                        question: "O que √© uma tabela em banco de dados?",
                        options: ["Estrutura com linhas e colunas que organiza dados", "M√≥vel para colocar coisas", "Um tipo de arquivo", "Uma imagem"],
                        correct: 0,
                        explanation: "Tabela √© a estrutura b√°sica de um banco de dados, com linhas (registros) e colunas (campos)."
                    },
                    {
                        question: "O que √© um registro em um banco de dados?",
                        options: ["Uma c√≥pia de seguran√ßa", "Uma linha de dados em uma tabela", "Um tipo de arquivo", "Uma senha"],
                        correct: 1,
                        explanation: "Registro √© uma linha completa em uma tabela, representando uma entidade com todos seus atributos."
                    },
                    {
                        question: "O que √© um campo (coluna) em banco de dados?",
                        options: ["Uma categoria de dados em uma tabela", "Um tipo de arquivo", "Um registro", "Uma chave"],
                        correct: 0,
                        explanation: "Campo √© uma coluna que representa um atributo espec√≠fico dos dados armazenados."
                    },
                    {
                        question: "O que √© SQL?",
                        options: ["Um tipo de banco", "Linguagem padr√£o para consultar bancos de dados", "Um software", "Um protocolo"],
                        correct: 1,
                        explanation: "SQL (Structured Query Language) √© a linguagem padr√£o para criar, consultar e manipular bancos de dados relacionais."
                    },
                    {
                        question: "Qual √© a diferen√ßa entre banco relacional e NoSQL?",
                        options: ["N√£o h√° diferen√ßa", "NoSQL √© mais antigo", "Relacional usa tabelas; NoSQL √© mais flex√≠vel", "S√£o sin√¥nimos"],
                        correct: 2,
                        explanation: "Bancos relacionais usam tabelas; NoSQL usa documentos, grafos ou chave-valor para maior flexibilidade."
                    },
                    {
                        question: "O que √© integridade de dados?",
                        options: ["Fazer backup", "Garantir que dados sejam consistentes e corretos", "Criptografar dados", "Aumentar performance"],
                        correct: 1,
                        explanation: "Integridade de dados garante que os dados armazenados sejam precisos, consistentes e confi√°veis."
                    }
                ],
                exam: [
                    {
                        question: "O que √© uma chave prim√°ria?",
                        options: ["Arquivo de seguran√ßa", "Tipo de tabela", "Campo que identifica unicamente cada registro", "Uma senha"],
                        correct: 2,
                        explanation: "Chave prim√°ria √© um campo (ou conjunto) que identifica unicamente cada registro em uma tabela."
                    },
                    {
                        question: "O que √© chave estrangeira?",
                        options: ["Uma chave de outro banco", "Campo que referencia chave prim√°ria de outra tabela", "Tipo de acesso", "Uma senha"],
                        correct: 1,
                        explanation: "Chave estrangeira estabelece relacionamento entre tabelas, referenciando chave prim√°ria de outra tabela."
                    },
                    {
                        question: "O que √© normaliza√ß√£o?",
                        options: ["Fazer backup", "Criptografar dados", "Organizar dados para eliminar redund√¢ncia", "Copiar tabelas"],
                        correct: 2,
                        explanation: "Normaliza√ß√£o √© o processo de estruturar tabelas para eliminar redund√¢ncia e melhorar integridade."
                    },
                    {
                        question: "O que √© a primeira forma normal (1NF)?",
                        options: ["Tabelas √∫nicas", "Eliminar depend√™ncias", "Eliminar grupos repetidos", "Garantir desempenho"],
                        correct: 2,
                        explanation: "1NF exige que todos os atributos tenham valores at√¥micos (indivis√≠veis), eliminando grupos repetitivos."
                    },
                    {
                        question: "O que √© a segunda forma normal (2NF)?",
                        options: ["Sem tabelas", "Eliminar depend√™ncias funcionais parciais", "Aumentar campos", "Duplicar dados"],
                        correct: 1,
                        explanation: "2NF exige estar em 1NF e eliminar depend√™ncias funcionais parciais de chaves compostas."
                    },
                    {
                        question: "O que √© modelo entidade-relacionamento?",
                        options: ["Um banco de dados", "Um tipo de tabela", "Uma query", "Representa√ß√£o visual das entidades e seus relacionamentos"],
                        correct: 3,
                        explanation: "Modelo ER representa entidades (tabelas), atributos e relacionamentos para design de bancos de dados."
                    },
                    {
                        question: "O que √© um √≠ndice em banco de dados?",
                        options: ["Uma tabela", "Estrutura que acelera buscas em dados", "Um relacionamento", "Uma coluna"],
                        correct: 1,
                        explanation: "√çndice √© uma estrutura que acelera consultas ao criar um caminho r√°pido para encontrar dados."
                    },
                    {
                        question: "O que √© transa√ß√£o em banco de dados?",
                        options: ["Uma c√≥pia de dados", "Conjunto de opera√ß√µes executadas como unidade at√¥mica", "Um tipo de query", "Um relacionamento"],
                        correct: 1,
                        explanation: "Transa√ß√£o √© um conjunto de opera√ß√µes que devem ser executadas completamente ou revertidas (tudo ou nada)."
                    },
                    {
                        question: "O que s√£o propriedades ACID?",
                        options: ["Atomicidade, Consist√™ncia, Isolamento, Durabilidade", "Tipos de tabelas", "Tipos de √≠ndices", "Tipos de campos"],
                        correct: 0,
                        explanation: "ACID s√£o propriedades que garantem confiabilidade em transa√ß√µes de banco de dados."
                    },
                    {
                        question: "O que √© backup em banco de dados?",
                        options: ["C√≥pia de seguran√ßa dos dados", "Um tipo de √≠ndice", "Uma transa√ß√£o", "Um relacionamento"],
                        correct: 0,
                        explanation: "Backup √© uma c√≥pia de seguran√ßa dos dados para recupera√ß√£o em caso de perda ou corrup√ß√£o."
                    }
                ]
            },
            2: { // Modelagem de Dados
                quiz: [
                    {
                        question: "Qual √© a principal diferen√ßa entre uma entidade e um atributo?",
                        options: ["N√£o h√° diferen√ßa", "Entidade √© o objeto; atributo √© uma propriedade da entidade", "Atributo √© mais importante", "Entidade √© uma propriedade"],
                        correct: 1,
                        explanation: "Entidade √© um objeto do mundo real que queremos representar; atributo √© uma propriedade ou caracter√≠stica dessa entidade."
                    },
                    {
                        question: "O que √© um relacionamento em modelagem de dados?",
                        options: ["Uma tabela", "Associa√ß√£o entre duas ou mais entidades", "Um campo de dados", "Uma restri√ß√£o"],
                        correct: 1,
                        explanation: "Relacionamento descreve como entidades se associam e interagem entre si no modelo de dados."
                    },
                    {
                        question: "O que significa cardinalidade em um modelo ER?",
                        options: ["N√∫mero de atributos", "N√∫mero de tabelas", "Quantidade de ocorr√™ncias de uma entidade relacionada a outra", "Tipo de chave"],
                        correct: 2,
                        explanation: "Cardinalidade especifica quantas ocorr√™ncias de uma entidade podem estar associadas a uma ou mais ocorr√™ncias de outra entidade."
                    },
                    {
                        question: "Qual tipo de relacionamento √© 1:1?",
                        options: ["Um para muitos", "Muitos para muitos", "Um para um", "Nenhum dos anteriores"],
                        correct: 2,
                        explanation: "Um relacionamento 1:1 significa que uma ocorr√™ncia de uma entidade est√° associada a exatamente uma ocorr√™ncia de outra entidade."
                    },
                    {
                        question: "O que √© um atributo multivalorado?",
                        options: ["Um atributo obrigat√≥rio", "Atributo que pode ter m√∫ltiplos valores para uma √∫nica entidade", "Um atributo nulo", "Um atributo chave"],
                        correct: 1,
                        explanation: "Atributo multivalorado √© aquele que pode conter m√∫ltiplos valores para uma mesma ocorr√™ncia de entidade."
                    },
                    {
                        question: "O que √© um atributo derivado?",
                        options: ["Um atributo armazenado", "Atributo calculado a partir de outros atributos", "Um atributo chave", "Um atributo nulo"],
                        correct: 1,
                        explanation: "Atributo derivado √© calculado ou derivado a partir de outros atributos, n√£o sendo necess√°rio armazen√°-lo no banco de dados."
                    },
                    {
                        question: "Qual √© a diferen√ßa entre uma chave prim√°ria e uma chave candidata?",
                        options: ["N√£o h√° diferen√ßa", "Chave prim√°ria √© escolhida entre as chaves candidatas", "Chave candidata √© escolhida", "S√£o sin√¥nimos"],
                        correct: 1,
                        explanation: "Chave candidata √© qualquer atributo que pode identificar unicamente uma entidade; chave prim√°ria √© a escolhida entre as candidatas."
                    },
                    {
                        question: "O que √© uma entidade fraca?",
                        options: ["Uma entidade pequena", "Entidade que depende de outra para sua exist√™ncia", "Uma entidade com poucos atributos", "Uma entidade sem relacionamentos"],
                        correct: 1,
                        explanation: "Entidade fraca √© aquela cuja exist√™ncia depende de outra entidade (entidade forte), necessitando de uma chave estrangeira para identifica√ß√£o."
                    },
                    {
                        question: "O que significa especializa√ß√£o em um modelo de dados?",
                        options: ["Divis√£o de um tipo de dado", "Processo de criar subtipos de uma entidade", "Combina√ß√£o de atributos", "Cria√ß√£o de √≠ndices"],
                        correct: 1,
                        explanation: "Especializa√ß√£o √© o processo de criar subconjuntos (subtipos) de uma entidade que herdam atributos da entidade pai e t√™m atributos espec√≠ficos."
                    },
                    {
                        question: "O que √© um atributo composto?",
                        options: ["Um atributo obrigat√≥rio", "Atributo formado pela combina√ß√£o de m√∫ltiplos atributos", "Um atributo chave", "Um atributo derivado"],
                        correct: 1,
                        explanation: "Atributo composto √© formado pela combina√ß√£o de m√∫ltiplos atributos simples, podendo ser decomposto em seus componentes."
                    }
                ],
                exam: [
                    {
                        question: "O que √© um relacionamento M:N (muitos para muitos)?",
                        options: ["Um relacionamento 1:1", "Um relacionamento fraco", "Uma entidade pode ter m√∫ltiplas rela√ß√µes com outra entidade", "Um atributo derivado"],
                        correct: 2,
                        explanation: "Relacionamento M:N significa que m√∫ltiplas ocorr√™ncias de uma entidade podem estar associadas a m√∫ltiplas ocorr√™ncias de outra entidade."
                    },
                    {
                        question: "Como resolver um relacionamento M:N em um modelo relacional?",
                        options: ["Eliminar o relacionamento", "Criar uma tabela associativa (de jun√ß√£o)", "Usar chaves compostas", "Duplicar registros"],
                        correct: 1,
                        explanation: "Um relacionamento M:N √© resolvido criando uma tabela associativa (de jun√ß√£o) que cont√©m as chaves prim√°rias das duas entidades."
                    },
                    {
                        question: "O que √© uma generaliza√ß√£o em modelagem de dados?",
                        options: ["Elimina√ß√£o de dados", "Processo inverso da especializa√ß√£o", "Combina√ß√£o de atributos", "Cria√ß√£o de relacionamentos"],
                        correct: 1,
                        explanation: "Generaliza√ß√£o √© o processo inverso da especializa√ß√£o, onde subtipos de entidades s√£o combinados em um supertipo comum."
                    },
                    {
                        question: "O que significa participa√ß√£o total em um relacionamento?",
                        options: ["Todo registro da entidade participa do relacionamento", "Alguns registros participam", "Nenhum registro participa", "Relacionamento √© nulo"],
                        correct: 0,
                        explanation: "Participa√ß√£o total significa que toda ocorr√™ncia de uma entidade deve estar relacionada a pelo menos uma ocorr√™ncia da outra entidade."
                    },
                    {
                        question: "O que √© uma restri√ß√£o de integridade referencial?",
                        options: ["Regra que garante que valores de chave estrangeira referenciem chaves prim√°rias v√°lidas", "Limite de tamanho", "Limite de registros", "Tipo de √≠ndice"],
                        correct: 0,
                        explanation: "Restri√ß√£o de integridade referencial garante que toda chave estrangeira contenha um valor que existe como chave prim√°ria na tabela referenciada."
                    },
                    {
                        question: "Qual √© o prop√≥sito da normaliza√ß√£o no design de banco de dados?",
                        options: ["Aumentar tamanho", "Eliminar redund√¢ncia e melhorar integridade dos dados", "Acelerar consultas", "Adicionar dados"],
                        correct: 1,
                        explanation: "Normaliza√ß√£o reorganiza dados em tabelas para eliminar redund√¢ncia, reduzir anomalias de atualiza√ß√£o e melhorar integridade."
                    },
                    {
                        question: "O que define a Primeira Forma Normal (1NF)?",
                        options: ["Sem chave prim√°ria", "Sem relacionamentos", "Todos os atributos devem ser at√¥micos", "Sem √≠ndices"],
                        correct: 0,
                        explanation: "1NF exige que todos os atributos contenham apenas valores at√¥micos (indivis√≠veis), eliminando grupos repetitivos."
                    },
                    {
                        question: "O que √© um modelo conceitual?",
                        options: ["Modelo implementado", "Representa√ß√£o abstrata do banco de dados", "Modelo f√≠sico", "Modelo l√≥gico completo"],
                        correct: 1,
                        explanation: "Modelo conceitual √© uma representa√ß√£o abstrata de alto n√≠vel do banco de dados, independente de qualquer implementa√ß√£o espec√≠fica."
                    },
                    {
                        question: "Qual √© a fun√ß√£o de um diagrama Entidade-Relacionamento (DER)?",
                        options: ["Armazenar dados", "Executar consultas", "Visualizar a estrutura e relacionamentos das entidades", "Criar √≠ndices"],
                        correct: 2,
                        explanation: "DER visualiza graficamente as entidades, seus atributos e os relacionamentos entre elas no modelo conceitual."
                    },
                    {
                        question: "O que √© um modelo l√≥gico de dados?",
                        options: ["Diagrama f√≠sico", "Tradu√ß√£o do modelo conceitual para estruturas de banco de dados espec√≠fico", "Modelo implementado", "Estrutura de hardware"],
                        correct: 1,
                        explanation: "Modelo l√≥gico traduz o modelo conceitual para estruturas espec√≠ficas de um tipo de banco de dados (relacional, NoSQL, etc)."
                    }
                ]
            },
            3: { // SQL B√°sico
                quiz: [
                    {
                        question: "O que √© SQL?",
                        options: ["Uma linguagem de programa√ß√£o de desktop", "Linguagem padr√£o para consultar e manipular bancos de dados", "Um tipo de arquivo", "Um software de backup"],
                        correct: 1,
                        explanation: "SQL (Structured Query Language) √© a linguagem padr√£o utilizada para criar, consultar, atualizar e deletar dados em bancos de dados relacionais."
                    },
                    {
                        question: "Qual √© a fun√ß√£o do comando SELECT?",
                        options: ["Atualizar registros", "Consultar e recuperar dados de uma tabela", "Deletar dados", "Inserir novos registros"],
                        correct: 1,
                        explanation: "SELECT √© usado para recuperar dados de uma ou mais tabelas, permitindo consultas e filtragens espec√≠ficas."
                    },
                    {
                        question: "O que faz o comando WHERE em SQL?",
                        options: ["Ordena os resultados", "Filtra os resultados com base em condi√ß√µes", "Agrupa os dados", "Junta duas tabelas"],
                        correct: 1,
                        explanation: "WHERE especifica condi√ß√µes para filtrar os registros retornados por uma query, mostrando apenas os que atendem aos crit√©rios."
                    },
                    {
                        question: "Qual √© o comando SQL para inserir dados?",
                        options: ["UPDATE", "INSERT", "DELETE", "SELECT"],
                        correct: 1,
                        explanation: "INSERT √© utilizado para adicionar novos registros (linhas) em uma tabela de banco de dados."
                    },
                    {
                        question: "O que faz o comando UPDATE?",
                        options: ["Insere novos dados", "Modifica dados existentes em uma tabela", "Deleta registros", "Consulta dados"],
                        correct: 1,
                        explanation: "UPDATE permite modificar valores de registros j√° existentes em uma tabela, geralmente utilizado com WHERE para especificar quais registros."
                    },
                    {
                        question: "Qual √© a fun√ß√£o do comando DELETE?",
                        options: ["Atualizar registros", "Consultar dados", "Remover registros de uma tabela", "Inserir novos dados"],
                        correct: 2,
                        explanation: "DELETE remove registros (linhas) de uma tabela, podendo ser utilizado com WHERE para deletar registros espec√≠ficos."
                    },
                    {
                        question: "O que √© uma cl√°usula ORDER BY?",
                        options: ["Agrupa dados", "Filtra registros", "Ordena os resultados em forma crescente ou decrescente", "Junta tabelas"],
                        correct: 2,
                        explanation: "ORDER BY ordena os resultados de uma consulta em ordem crescente (ASC) ou decrescente (DESC) baseado em um ou mais campos."
                    },
                    {
                        question: "O que faz o comando JOIN?",
                        options: ["Deleta registros", "Combina dados de duas ou mais tabelas", "Atualiza dados", "Ordena resultados"],
                        correct: 1,
                        explanation: "JOIN √© utilizado para combinar linhas de duas ou mais tabelas baseado em uma condi√ß√£o relacionada entre elas."
                    },
                    {
                        question: "Qual √© a diferen√ßa entre INNER JOIN e LEFT JOIN?",
                        options: ["N√£o h√° diferen√ßa", "INNER JOIN retorna apenas correspond√™ncias; LEFT JOIN retorna todos os registros da tabela esquerda", "LEFT JOIN √© mais r√°pido", "S√£o sin√¥nimos"],
                        correct: 1,
                        explanation: "INNER JOIN retorna apenas registros com correspond√™ncia em ambas as tabelas, enquanto LEFT JOIN retorna todos os registros da tabela esquerda."
                    },
                    {
                        question: "O que √© uma fun√ß√£o de agrega√ß√£o em SQL?",
                        options: ["Tipo de campo", "Fun√ß√£o que realiza c√°lculos em um conjunto de valores", "Tipo de √≠ndice", "Tipo de relacionamento"],
                        correct: 1,
                        explanation: "Fun√ß√µes de agrega√ß√£o (COUNT, SUM, AVG, MAX, MIN) realizam c√°lculos em m√∫ltiplos registros, retornando um √∫nico valor resultado."
                    }
                ],
                exam: [
                    {
                        question: "O que faz a fun√ß√£o COUNT em SQL?",
                        options: ["Soma valores", "Retorna a quantidade de registros", "Calcula a m√©dia", "Encontra o m√°ximo"],
                        correct: 1,
                        explanation: "COUNT retorna o n√∫mero de registros ou valores n√£o nulos em uma coluna, √∫til para contar registros de uma tabela."
                    },
                    {
                        question: "Qual √© a fun√ß√£o da cl√°usula GROUP BY?",
                        options: ["Ordena resultados", "Agrupa registros baseado em um ou mais campos", "Filtra dados", "Junta tabelas"],
                        correct: 1,
                        explanation: "GROUP BY agrupa registros com o mesmo valor em um campo especificado, geralmente usado com fun√ß√µes de agrega√ß√£o."
                    },
                    {
                        question: "O que √© HAVING em SQL?",
                        options: ["Uma condi√ß√£o para campos", "Uma cl√°usula para filtrar grupos de registros", "Um tipo de √≠ndice", "Um comando para deletar"],
                        correct: 1,
                        explanation: "HAVING filtra grupos de registros criados por GROUP BY, similar ao WHERE mas aplicado a grupos ap√≥s agrega√ß√£o."
                    },
                    {
                        question: "O que faz DISTINCT em SQL?",
                        options: ["Agrupa dados", "Remove duplicatas dos resultados", "Ordena valores", "Filtra registros"],
                        correct: 1,
                        explanation: "DISTINCT remove linhas duplicadas dos resultados de uma consulta, retornando apenas valores √∫nicos."
                    },
                    {
                        question: "Como usar LIKE em SQL?",
                        options: ["Comparar n√∫meros", "Buscar padr√µes de texto em uma coluna", "Ordenar dados", "Agrupar registros"],
                        correct: 1,
                        explanation: "LIKE √© usado com WHERE para buscar padr√µes de texto, utilizando % (qualquer caractere) e _ (um caractere)."
                    },
                    {
                        question: "O que √© uma subconsulta (subquery) em SQL?",
                        options: ["Uma consulta incompleta", "Uma consulta dentro de outra consulta", "Um tipo de tabela", "Um √≠ndice"],
                        correct: 1,
                        explanation: "Subquery √© uma consulta SQL aninhada dentro de outra consulta, usada para retornar dados que ser√£o usados na consulta principal."
                    },
                    {
                        question: "Qual √© a diferen√ßa entre UNION e UNION ALL?",
                        options: ["N√£o h√° diferen√ßa", "UNION remove duplicatas; UNION ALL mant√©m duplicatas", "UNION √© mais r√°pido", "S√£o sin√¥nimos"],
                        correct: 1,
                        explanation: "UNION combina resultados de duas consultas removendo duplicatas, enquanto UNION ALL mant√©m todas as linhas, inclusive duplicatas."
                    },
                    {
                        question: "O que faz a fun√ß√£o SUM em SQL?",
                        options: ["Conta registros", "Calcula a soma dos valores de uma coluna", "Encontra a m√©dia", "Retorna o m√°ximo"],
                        correct: 1,
                        explanation: "SUM calcula a soma total dos valores num√©ricos em uma coluna, ignorando valores NULL."
                    },
                    {
                        question: "O que √© um alias em SQL?",
                        options: ["Uma chave estrangeira", "Um apelido tempor√°rio para uma tabela ou coluna", "Um tipo de √≠ndice", "Uma restri√ß√£o"],
                        correct: 1,
                        explanation: "Alias √© um nome alternativo tempor√°rio para uma tabela ou coluna em uma consulta, √∫til para simplificar queries complexas."
                    },
                    {
                        question: "Como usar LIMIT em SQL?",
                        options: ["Filtrar por condi√ß√£o", "Restringir o n√∫mero de registros retornados", "Ordenar dados", "Agrupar resultados"],
                        correct: 1,
                        explanation: "LIMIT restringe o n√∫mero m√°ximo de registros retornados por uma consulta, √∫til para pagina√ß√£o de resultados."
                    }
                ]
            },
            4: { // SQL Avan√ßado
                quiz: [
                    {
                        question: "O que √© uma subquery em SQL?",
                        options: ["Uma consulta dentro de outra consulta", "Um tipo de tabela", "Uma trigger", "Um √≠ndice"],
                        correct: 0,
                        explanation: "Subquery √© uma consulta aninhada dentro de outra instru√ß√£o SQL, usada para retornar dados intermedi√°rios."
                    },
                    {
                        question: "O que √© JOIN?",
                        options: ["Comando para excluir tabelas", "Forma de combinar dados de tabelas diferentes", "Criar √≠ndices", "Atualizar dados"],
                        correct: 1,
                        explanation: "JOIN combina registros de diferentes tabelas com base em uma condi√ß√£o relacionada."
                    },
                    {
                        question: "Para que serve o comando GROUP BY?",
                        options: ["Ordenar dados", "Agrupar registros por um ou mais campos", "Criar tabelas", "Excluir duplicados automaticamente"],
                        correct: 1,
                        explanation: "GROUP BY agrupa registros que possuem valores iguais em colunas especificadas."
                    },
                    {
                        question: "O que √© uma VIEW?",
                        options: ["Consulta salv√°vel tratada como tabela l√≥gica", "Tabela f√≠sica", "Trigger", "√çndice especial"],
                        correct: 0,
                        explanation: "VIEW √© uma consulta armazenada que se comporta como uma tabela l√≥gica, √∫til para seguran√ßa e reutiliza√ß√£o."
                    },
                    {
                        question: "Para que serve HAVING?",
                        options: ["Filtrar linhas antes do GROUP BY", "Criar tabelas", "Filtrar grupos ap√≥s o GROUP BY", "Renomear colunas"],
                        correct: 2,
                        explanation: "HAVING filtra o resultado de grupos criados pelo GROUP BY."
                    },
                    {
                        question: "O que √© uma trigger?",
                        options: ["Tabela virtual", "C√≥digo executado automaticamente em eventos", "√çndice especial", "Constraint"],
                        correct: 1,
                        explanation: "Trigger √© um conjunto de instru√ß√µes SQL executado automaticamente em resposta a eventos como INSERT, UPDATE ou DELETE."
                    },
                    {
                        question: "O que significa ACID?",
                        options: ["Configura√ß√£o de rede", "Propriedades de transa√ß√µes", "Tipo de chave prim√°ria", "Fun√ß√£o de agrega√ß√£o"],
                        correct: 1,
                        explanation: "ACID s√£o propriedades essenciais das transa√ß√µes: Atomicidade, Consist√™ncia, Isolamento e Durabilidade."
                    },
                    {
                        question: "O que √© NORMALIZA√á√ÉO?",
                        options: ["Criar backups", "Processo de organizar tabelas para reduzir redund√¢ncia", "Criar √≠ndices", "Criar vari√°veis"],
                        correct: 1,
                        explanation: "Normaliza√ß√£o organiza tabelas para evitar redund√¢ncia e inconsist√™ncia nos dados."
                    },
                    {
                        question: "Para que serve um √≠ndice (INDEX)?",
                        options: ["Melhorar a performance de consultas", "Criar tabelas", "Encriptar dados", "Criar triggers"],
                        correct: 0,
                        explanation: "√çndices aceleram pesquisas ao permitir acesso mais r√°pido aos dados."
                    },
                    {
                        question: "O que √© um stored procedure?",
                        options: ["Tipo de tabela", "Conjunto de comandos SQL armazenados no banco", "Trigger autom√°tica", "View complexa"],
                        correct: 1,
                        explanation: "Stored procedures s√£o rotinas SQL armazenadas no banco, reutiliz√°veis e eficientes."
                    }
                ],
                exam: [
                    {
                        question: "Qual a diferen√ßa entre INNER JOIN e LEFT JOIN?",
                        options: [
                            "Nenhuma diferen√ßa",
                            "INNER retorna somente correspond√™ncias; LEFT retorna todas do lado esquerdo",
                            "LEFT √© mais r√°pido que INNER",
                            "INNER retorna todas as linhas da tabela da esquerda"
                        ],
                        correct: 1,
                        explanation: "INNER JOIN retorna apenas registros relacionados; LEFT JOIN retorna todos da tabela esquerda, mesmo sem correspond√™ncia."
                    },
                    {
                        question: "O que √© uma CTE (Common Table Expression)?",
                        options: [
                            "Um tipo de √≠ndice",
                            "Uma tabela permanente",
                            "Uma otimiza√ß√£o autom√°tica do banco",
                            "Uma consulta tempor√°ria nomeada usada dentro de uma instru√ß√£o maior"
                        ],
                        correct: 3,
                        explanation: "CTE √© uma consulta tempor√°ria nomeada que ajuda na organiza√ß√£o e reutiliza√ß√£o de l√≥gica complexa."
                    },
                    {
                        question: "O que √© PARTITION BY em fun√ß√µes anal√≠ticas?",
                        options: [
                            "Criar parti√ß√µes f√≠sicas",
                            "Dividir os dados em grupos para fun√ß√µes janela",
                            "Criar √≠ndices particionados",
                            "Agrupar registros como GROUP BY"
                        ],
                        correct: 1,
                        explanation: "PARTITION BY divide dados em grupos dentro das fun√ß√µes anal√≠ticas, sem colapsar as linhas."
                    },
                    {
                        question: "Para que serve o comando EXISTS?",
                        options: [
                            "Verificar a exist√™ncia de registros em subqueries",
                            "Criar tabelas",
                            "Criar √≠ndices",
                            "Exibir apenas valores distintos"
                        ],
                        correct: 0,
                        explanation: "EXISTS retorna verdadeiro se a subquery contiver ao menos um registro."
                    },
                    {
                        question: "O que √© uma transa√ß√£o em SQL?",
                        options: [
                            "Uma sequ√™ncia de opera√ß√µes tratada como uma √∫nica unidade de trabalho",
                            "Um comando SELECT",
                            "Uma tabela tempor√°ria",
                            "Uma forma de backup"
                        ],
                        correct: 0,
                        explanation: "Transa√ß√µes garantem que um grupo de comandos seja tratado de forma at√¥mica, seguindo propriedades ACID."
                    },
                    {
                        question: "O que √© DEADLOCK?",
                        options: [
                            "Erro de sintaxe",
                            "Situa√ß√£o onde duas transa√ß√µes bloqueiam uma √† outra",
                            "Banco sem espa√ßo",
                            "Consulta inv√°lida"
                        ],
                        correct: 1,
                        explanation: "Deadlock ocorre quando duas ou mais transa√ß√µes esperam recursos umas das outras, impedindo a continua√ß√£o."
                    },
                    {
                        question: "Qual √© a fun√ß√£o de uma FOREIGN KEY?",
                        options: [
                            "Criar tabelas",
                            "Garantir integridade referencial entre tabelas",
                            "Criar √≠ndices autom√°ticos",
                            "Melhorar performance"
                        ],
                        correct: 1,
                        explanation: "FOREIGN KEY garante que valores de uma tabela existam na tabela relacionada, mantendo integridade dos dados."
                    },
                    {
                        question: "Para que servem fun√ß√µes de janela (OVER)?",
                        options: [
                            "Executar c√°lculos sem agrupar linhas",
                            "Criar triggers",
                            "Criar √≠ndices",
                            "Criar colunas virtuais"
                        ],
                        correct: 0,
                        explanation: "Fun√ß√µes de janela permitem c√°lculos sobre conjuntos de linhas mantendo cada linha da consulta."
                    },
                    {
                        question: "O que caracteriza a 3¬™ Forma Normal (3FN)?",
                        options: [
                            "Eliminar duplicidade f√≠sica",
                            "Criar chaves compostas",
                            "Eliminar depend√™ncias transitivas",
                            "Transformar tabelas em views"
                        ],
                        correct: 2,
                        explanation: "A 3FN remove depend√™ncias transitivas entre atributos n√£o-chave."
                    },
                    {
                        question: "Para que serve o comando ANALYZE / EXPLAIN?",
                        options: [
                            "Criar tabelas",
                            "Exibir o plano de execu√ß√£o de uma consulta",
                            "Remover √≠ndices",
                            "Criar constraints"
                        ],
                        correct: 1,
                        explanation: "EXPLAIN mostra como o banco executa uma consulta, ajudando na otimiza√ß√£o de performance."
                    }
                ]
            },
            5: { // √çndices e Performance
                quiz: [
                    {
                        question: "O que √© um √≠ndice em banco de dados?",
                        options: ["Uma tabela de backup", "Estrutura que acelera buscas e consultas", "Um tipo de chave prim√°ria", "Um arquivo de log"],
                        correct: 1,
                        explanation: "√çndice √© uma estrutura de dados que melhora a velocidade de recupera√ß√£o de dados, criando um caminho otimizado para localizar registros."
                    },
                    {
                        question: "Qual √© o principal benef√≠cio de usar √≠ndices?",
                        options: ["Economizar espa√ßo em disco", "Acelerar consultas e melhorar performance", "Aumentar seguran√ßa", "Criar backups autom√°ticos"],
                        correct: 1,
                        explanation: "√çndices melhoram significativamente a performance de consultas SELECT e WHERE, reduzindo o tempo de resposta."
                    },
                    {
                        question: "O que √© um √≠ndice PRIMARY KEY?",
                        options: ["√çndice obrigat√≥rio que identifica unicamente cada registro", "Um √≠ndice opcional", "Um tipo de backup", "Um √≠ndice secund√°rio"],
                        correct: 0,
                        explanation: "PRIMARY KEY √© um √≠ndice autom√°tico que garante a unicidade dos registros e melhora a performance de buscas por chave prim√°ria."
                    },
                    {
                        question: "O que √© um √≠ndice composto (composite index)?",
                        options: ["Um √≠ndice duplicado", "√çndice que combina m√∫ltiplas colunas", "Um √≠ndice de backup", "Um tipo de chave estrangeira"],
                        correct: 1,
                        explanation: "√çndice composto usa m√∫ltiplas colunas, √∫til para consultas que filtram por v√°rias colunas simultaneamente."
                    },
                    {
                        question: "Qual √© a desvantagem de usar muitos √≠ndices?",
                        options: ["Melhor performance", "Reduz seguran√ßa", "Aumenta tempo de INSERT, UPDATE e DELETE", "Limita o tamanho do banco"],
                        correct: 2,
                        explanation: "M√∫ltiplos √≠ndices diminuem performance em opera√ß√µes de escrita pois precisam ser atualizados a cada modifica√ß√£o."
                    },
                    {
                        question: "O que √© um √≠ndice UNIQUE?",
                        options: ["Um √≠ndice em coluna de texto", "Um √≠ndice autom√°tico", "√çndice que garante valores √∫nicos em uma coluna", "Um tipo de chave estrangeira"],
                        correct: 2,
                        explanation: "UNIQUE garante que n√£o existam valores duplicados em uma coluna, similar a PRIMARY KEY mas permitindo NULL."
                    },
                    {
                        question: "O que significa EXPLAIN em SQL?",
                        options: ["Comando para deletar dados", "Um tipo de √≠ndice", "Um comando de backup", "Ferramenta que mostra o plano de execu√ß√£o de uma query"],
                        correct: 3,
                        explanation: "EXPLAIN mostra como o banco de dados executa uma consulta, ajudando a identificar gargalos de performance."
                    },
                    {
                        question: "O que √© query optimization?",
                        options: ["Fazer backup das queries", "Criar √≠ndices aleat√≥rios", "Replicar dados", "Processo de otimizar consultas para executar mais rapidamente"],
                        correct: 3,
                        explanation: "Query optimization envolve t√©cnicas para melhorar performance de consultas, como uso de √≠ndices e reescrita de SQL."
                    },
                    {
                        question: "O que √© um √≠ndice FULL TEXT?",
                        options: ["√çndice especializado para buscas de texto", "Um √≠ndice composto", "Um √≠ndice de n√∫meros", "Um tipo de backup"],
                        correct: 0,
                        explanation: "FULL TEXT √© um √≠ndice especializado que acelera buscas por palavras-chave em campos de texto."
                    },
                    {
                        question: "Como o √≠ndice B-Tree funciona?",
                        options: ["Armazena dados linearmente", "Estrutura em √°rvore balanceada que organiza dados", "Um tipo de backup", "Um √≠ndice de texto"],
                        correct: 1,
                        explanation: "B-Tree √© uma estrutura de dados balanceada que permite acesso r√°pido a dados, mantendo ordem e efici√™ncia em buscas."
                    }
                ],
                exam: [
                    {
                        question: "Qual √© a diferen√ßa entre √≠ndice CLUSTERED e NON-CLUSTERED?",
                        options: ["N√£o h√° diferen√ßa", "NON-CLUSTERED √© mais r√°pido", "CLUSTERED √© redundante", "CLUSTERED ordena fisicamente os dados; NON-CLUSTERED cria refer√™ncia"],
                        correct: 3,
                        explanation: "CLUSTERED ordena fisicamente os dados na tabela; NON-CLUSTERED cria uma estrutura separada com refer√™ncias aos dados."
                    },
                    {
                        question: "O que √© fragmenta√ß√£o de √≠ndice?",
                        options: ["Degrada√ß√£o de performance devido √† desorganiza√ß√£o do √≠ndice", "Tipo de backup", "Um erro de SQL b√°sico", "Uma tabela virtual"],
                        correct: 0,
                        explanation: "Fragmenta√ß√£o ocorre quando as p√°ginas do √≠ndice se dispersam em disco, reduzindo performance. Pode ser reduzida com REBUILD."
                    },
                    {
                        question: "Para que serve REBUILD de √≠ndice?",
                        options: ["Copiar dados", "Reorganizar fisicamente o √≠ndice para melhorar performance", "Deletar registros", "Fazer backup"],
                        correct: 1,
                        explanation: "REBUILD reconstr√≥i completamente o √≠ndice, eliminando fragmenta√ß√£o e restaurando performance √≥ptima."
                    },
                    {
                        question: "O que √© statistical information (stats) em bancos?",
                        options: ["Informa√ß√µes sobre distribui√ß√£o de dados que otimizam a execu√ß√£o", "C√≥pia de dados", "Um tipo de √≠ndice", "Um arquivo de log"],
                        correct: 0,
                        explanation: "Statistics s√£o metadados sobre dados que ajudam o otimizador de query a escolher a melhor estrat√©gia de execu√ß√£o."
                    },
                    {
                        question: "Qual √© o impacto de √≠ndices em INSERT/UPDATE/DELETE?",
                        options: ["Melhora significativamente", "Degrada performance pois √≠ndices precisam ser atualizados", "N√£o afeta", "Varia aleatoriamente"],
                        correct: 1,
                        explanation: "Cada modifica√ß√£o de dados requer atualiza√ß√£o de todos os √≠ndices associados, impactando negativamente performance de escrita."
                    },
                    {
                        question: "O que √© selectivity de √≠ndice?",
                        options: ["Tamanho do √≠ndice", "Capacidade do √≠ndice de filtrar registros (quantos registros retorna)", "Tipo de dado indexado", "Fun√ß√£o de backup"],
                        correct: 1,
                        explanation: "Selectivity alta (poucos registros retornados) indica um √≠ndice eficiente; selectivity baixa (muitos registros) pode indicar √≠ndice ineficaz."
                    },
                    {
                        question: "Para que servem covering indexes?",
                        options: ["Fazer backup", "Replicar dados", "√çndices que cont√™m todas as colunas necess√°rias para a query", "Criar tabelas virtuais"],
                        correct: 2,
                        explanation: "Covering indexes incluem todas as colunas necess√°rias, permitindo resolver a query apenas consultando o √≠ndice sem acessar a tabela."
                    },
                    {
                        question: "O que √© execution plan?",
                        options: ["Um tipo de √≠ndice", "Um backup autom√°tico", "Plano detalhado de como o banco executa uma consulta", "Uma tabela de cache"],
                        correct: 2,
                        explanation: "Execution plan mostra passo a passo como o otimizador executa uma query, incluindo quais √≠ndices s√£o usados."
                    },
                    {
                        question: "Qual √© a regra de ouro para indexa√ß√£o?",
                        options: ["Indexar todas as colunas", "Indexar apenas colunas frequentemente usadas em WHERE, JOIN e ORDER BY", "Usar um √≠ndice por tabela", "Evitar √≠ndices compostos"],
                        correct: 1,
                        explanation: "Deve-se indexar colunas que melhoram performance de consultas, equilibrando benef√≠cios de leitura com custos de escrita."
                    },
                    {
                        question: "O que √© index hint em SQL?",
                        options: ["Instru√ß√£o que for√ßa o uso de um √≠ndice espec√≠fico", "Um tipo de backup", "Um tipo de view", "Uma constraint"],
                        correct: 0,
                        explanation: "Index hint permite especificar manualmente qual √≠ndice usar, √∫til quando o otimizador escolhe estrat√©gia sub√≥tima."
                    }
                ]
            },
            6: { // Transa√ß√µes e Concorr√™ncias
                quiz: [
                    {
                        question: "O que √© uma transa√ß√£o em banco de dados?",
                        options: ["Uma opera√ß√£o isolada", "Um backup de dados", "Conjunto de opera√ß√µes tratadas como uma unidade at√¥mica", "Um √≠ndice"],
                        correct: 2,
                        explanation: "Transa√ß√£o √© um conjunto de opera√ß√µes SQL que devem ser executadas completamente ou revertidas como uma unidade, garantindo integridade."
                    },
                    {
                        question: "O que significa ACID em transa√ß√µes?",
                        options: ["Atomicidade, Consist√™ncia, Isolamento e Durabilidade", "Um tipo de banco", "Uma fun√ß√£o SQL", "Um protocolo de rede"],
                        correct: 0,
                        explanation: "ACID s√£o as propriedades fundamentais que garantem confiabilidade das transa√ß√µes em banco de dados."
                    },
                    {
                        question: "O que √© Atomicidade?",
                        options: ["A transa√ß√£o executa totalmente ou n√£o executa", "Isolamento de dados", "Durabilidade de dados", "Consist√™ncia de registros"],
                        correct: 0,
                        explanation: "Atomicidade garante que uma transa√ß√£o seja 'tudo ou nada' - ou todas as opera√ß√µes s√£o executadas ou nenhuma √©."
                    },
                    {
                        question: "O que √© Consist√™ncia em transa√ß√µes?",
                        options: ["Velocidade de execu√ß√£o", "N√∫mero de registros", "Estado v√°lido do banco antes e depois da transa√ß√£o", "Tipo de √≠ndice"],
                        correct: 2,
                        explanation: "Consist√™ncia garante que o banco de dados passe de um estado v√°lido para outro estado v√°lido ap√≥s a transa√ß√£o."
                    },
                    {
                        question: "O que √© Isolamento?",
                        options: ["Backup dos dados", "Transa√ß√µes n√£o interferem uma na outra", "C√≥pia de registros", "Compress√£o de dados"],
                        correct: 1,
                        explanation: "Isolamento garante que transa√ß√µes concorrentes n√£o se afetem, cada uma executando como se fosse a √∫nica."
                    },
                    {
                        question: "O que √© Durabilidade?",
                        options: ["Velocidade de acesso", "Dados confirmados persitem mesmo em falhas", "N√∫mero de c√≥pias", "Tipo de armazenamento"],
                        correct: 1,
                        explanation: "Durabilidade garante que dados confirmados (committed) n√£o sejam perdidos, mesmo em caso de falha do sistema."
                    },
                    {
                        question: "O que significa COMMIT em SQL?",
                        options: ["Iniciar transa√ß√£o", "Desfazer opera√ß√µes", "Pausar transa√ß√£o", "Confirmar e persistir as mudan√ßas"],
                        correct: 3,
                        explanation: "COMMIT confirma todas as opera√ß√µes da transa√ß√£o e torna as mudan√ßas permanentes no banco de dados."
                    },
                    {
                        question: "O que √© ROLLBACK?",
                        options: ["Desfazer todas as opera√ß√µes da transa√ß√£o", "Confirmar transa√ß√£o", "Pausar opera√ß√µes", "Acelerar transa√ß√£o"],
                        correct: 0,
                        explanation: "ROLLBACK desfaz todas as opera√ß√µes de uma transa√ß√£o, revertendo o banco ao estado anterior ao in√≠cio da transa√ß√£o."
                    },
                    {
                        question: "O que √© um n√≠vel de isolamento?",
                        options: ["Tipo de √≠ndice", "Define como transa√ß√µes interagem e veem mudan√ßas umas das outras", "M√©todo de backup", "Tipo de constraint"],
                        correct: 1,
                        explanation: "N√≠veis de isolamento controlam o grau de intera√ß√£o entre transa√ß√µes concorrentes e o que cada uma pode ver."
                    },
                    {
                        question: "O que √© dirty read?",
                        options: ["Ler dados n√£o confirmados de outra transa√ß√£o", "Leitura de dados inv√°lidos", "Corrup√ß√£o de √≠ndice", "Perda de dados"],
                        correct: 0,
                        explanation: "Dirty read ocorre quando uma transa√ß√£o l√™ dados que foram modificados mas ainda n√£o confirmados por outra transa√ß√£o."
                    }
                ],
                exam: [
                    {
                        question: "Em READ COMMITTED com locking pessimista, por que ainda podem ocorrer non-repeatable reads, e como isso difere do comportamento sob MVCC?",
                        options: [
                            "MVCC fornece snapshots consistentes por transa√ß√£o, enquanto READ COMMITTED libera locks ap√≥s cada leitura",
                            "N√£o h√° diferen√ßa pr√°tica entre READ COMMITTED e MVCC",
                            "READ COMMITTED usa sempre snapshot e impede non-repeatable reads; MVCC n√£o",
                            "Porque MVCC impede dirty reads enquanto READ COMMITTED n√£o"
                        ],
                        correct: 0,
                        explanation: "Em READ COMMITTED, locks de leitura s√£o liberados ap√≥s a leitura, permitindo altera√ß√µes subsequentes. MVCC usa snapshots."
                    },
                    {
                        question: "Por que phantom reads ainda podem ocorrer no n√≠vel REPEATABLE READ em alguns SGBDs, como o InnoDB, apesar do nome sugerir controle mais forte?",
                        options: [
                            "Porque phantoms s√≥ ocorrem com locking pessimista, n√£o com MVCC",
                            "Porque REPEATABLE READ n√£o bloqueia intervalos e depende apenas de locks de linha",
                            "Porque REPEATABLE READ √© equivalente a READ UNCOMMITTED no InnoDB",
                            "Porque REPEATABLE READ usa MVCC e consulta apenas linhas existentes, mas n√£o impede inser√ß√µes que alteram resultados por intervalo"
                        ],
                        correct: 3,
                        explanation: "Mesmo com MVCC, inserts podem alterar resultados de buscas, gerando phantoms."
                    },
                    {
                        question: "Qual caracter√≠stica distingue SERIALIZABLE baseado em snapshot (SSI) do SERIALIZABLE cl√°ssico baseado em bloqueios?",
                        options: [
                            "SSI detecta depend√™ncias de leitura-escrita e aborta transa√ß√µes que criariam ciclos, ao inv√©s de bloquear preventivamente",
                            "O modelo baseado em bloqueios √© mais escal√°vel e menos propenso a abortos",
                            "SSI utiliza bloqueios de tabela ao inv√©s de linha",
                            "Ambos os m√©todos funcionam identicamente internamente"
                        ],
                        correct: 0,
                        explanation: "SSI rastreia depend√™ncias e aborta transa√ß√µes que violariam serializa√ß√£o."
                    },
                    {
                        question: "Em sistemas distribu√≠dos, qual situa√ß√£o pode causar um deadlock global mesmo que nenhum n√≥ individual apresente deadlock local?",
                        options: [
                            "Quando todos os n√≥s usam MVCC",
                            "Quando uma √∫nica transa√ß√£o realiza commit sem duas fases",
                            "Quando cada n√≥ bloqueia recursos em ordem local consistente, mas globalmente inconsistente",
                            "Quando o cluster usa SERIALIZABLE"
                        ],
                        correct: 2,
                        explanation: "A ordena√ß√£o local consistente pode n√£o ser consistente globalmente, criando ciclos."
                    },
                    {
                        question: "Por que alguns SGBDs utilizam detec√ß√£o peri√≥dica de deadlock em vez de preven√ß√£o pura baseada em ordena√ß√£o de recursos?",
                        options: [
                            "Porque a detec√ß√£o √© sempre mais r√°pida que preven√ß√£o",
                            "Porque preven√ß√£o n√£o funciona com MVCC",
                            "Porque detec√ß√£o permite maior paralelismo e evita restri√ß√µes r√≠gidas na ordem de bloqueio",
                            "Porque preven√ß√£o gera dirty reads"
                        ],
                        correct: 2,
                        explanation: "Detec√ß√£o d√° mais liberdade de concorr√™ncia que preven√ß√£o."
                    },
                    {
                        question: "Qual cen√°rio caracteriza write skew, uma anomalia poss√≠vel mesmo sob snapshot isolation?",
                        options: [
                            "Cada transa√ß√£o l√™ um conjunto de linhas compartilhado, faz update em linhas distintas, e o conjunto final viola uma constraint l√≥gica",
                            "Uma transa√ß√£o sobrescreve commits n√£o confirmados de outra",
                            "Um SELECT bloqueia um INSERT",
                            "Duas transa√ß√µes alteram a mesma linha simultaneamente"
                        ],
                        correct: 0,
                        explanation: "Write skew ocorre mesmo sem conflitos diretos de escrita."
                    },
                    {
                        question: "Em MVCC, por que opera√ß√µes UPDATE e DELETE precisam criar novas vers√µes dos registros, mesmo que seu efeito seja modificar ou remover dados?",
                        options: [
                            "Para evitar a necessidade de √≠ndices secund√°rios",
                            "Porque leitores podem precisar de vers√µes antigas, e updates/deletes devem preservar vis√µes consistentes",
                            "Porque DELETE n√£o pode remover fisicamente um registro",
                            "Porque √© mais r√°pido que sobrescrever o dado anterior"
                        ],
                        correct: 1,
                        explanation: "MVCC mant√©m vers√µes antigas para leitores com snapshots antigos."
                    },
                    {
                        question: "Qual mecanismo utilizado por alguns SGBDs evita phantom reads atrav√©s de bloqueio de intervalos (range locks)?",
                        options: [
                            "Index Hashing",
                            "Next-Key Locking",
                            "Key-Value Caching",
                            "Partial-Row Locking"
                        ],
                        correct: 1,
                        explanation: "Next-key locking bloqueia intervalos junto com registros."
                    },
                    {
                        question: "Por que transa√ß√µes longas s√£o particularmente problem√°ticas em sistemas MVCC?",
                        options: [
                            "Porque causam dirty reads",
                            "Porque impedem garbage collection de vers√µes antigas, aumentando consumo de storage e tempo de busca",
                            "Porque geram deadlocks sempre",
                            "Porque desabilitam √≠ndices secund√°rios"
                        ],
                        correct: 1,
                        explanation: "Transa√ß√µes longas mant√™m snapshots antigos, impedindo limpeza de vers√µes."
                    },
                    {
                        question: "Em workloads altamente concorrentes, por que um sistema pode obter maior throughput usando snapshot isolation do que READ COMMITTED baseado em locks?",
                        options: [
                            "Porque snapshot isolation elimina bloqueios de leitura, reduzindo conten√ß√£o e permitindo mais paralelismo",
                            "Porque READ COMMITTED √© inerentemente mais lento",
                            "Porque snapshot isolation nunca aborta transa√ß√µes",
                            "Porque snapshot isolation n√£o usa logs"
                        ],
                        correct: 0,
                        explanation: "Snapshot isolation permite leituras sem bloqueio, reduzindo conten√ß√£o."
                    }
                ]
            }
        };

        let currentQuiz = null;
        let currentExam = null;
        let quizTimer = null;
        let examTimer = null;
        let examTimeLeft = 30 * 60; // 30 minutos em segundos

        // ===== SISTEMA DE PROGRESSO E SALVAMENTO =====

        /**
         * Salva o progresso do usu√°rio
         */
        function saveUserProgress(progress) {
            localStorage.setItem(`navcode_course_progress_${courseId}`, JSON.stringify(progress));
        }

        /**
         * Marca um cap√≠tulo como conclu√≠do
         */
        function markChapterCompleted(chapterId) {
            const progress = loadUserProgress();
            if (!progress.completedChapters.includes(chapterId)) {
                progress.completedChapters.push(chapterId);
                saveUserProgress(progress);
                updateProgressDisplay();
            }
        }

        /**
         * Salva pontua√ß√£o do quiz
         */
        function saveQuizScore(chapterId, score, percentage) {
            const progress = loadUserProgress();
            progress.quizScores[chapterId] = { score, percentage, completed: true };
            saveUserProgress(progress);
        }

        /**
         * Salva pontua√ß√£o da prova
         */
        function saveExamScore(chapterId, score, percentage) {
            const progress = loadUserProgress();
            progress.examScores[chapterId] = { score, percentage, completed: true };
            saveUserProgress(progress);
        }

        /**
         * Verifica se o cap√≠tulo est√° conclu√≠do
         */
        function isChapterCompleted(chapterId) {
            const progress = loadUserProgress();
            return progress.completedChapters.includes(chapterId);
        }

        /**
         * Vai para o pr√≥ximo cap√≠tulo
         */
        function goToNextChapter() {
            const progress = loadUserProgress();
            const nextChapter = progress.currentChapter + 1;

            if (nextChapter <= courseData.totalChapters) {
                progress.currentChapter = nextChapter;
                saveUserProgress(progress);
                // Encontrar o cap√≠tulo pelo ID
                const chapter = courseData.chapters.find(ch => ch.id === nextChapter);
                if (chapter) {
                    openChapter(chapter);
                }
            } else {
                // Curso conclu√≠do
                showCourseCompletion();
            }
        }

        /**
         * Mostra tela de conclus√£o do curso
         */
        function showCourseCompletion() {
            const content = document.getElementById('chapter-content');
            content.innerHTML = `
                <div class="course-completion">
                    <div class="completion-header">
                        <div class="completion-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 12l2 2 4-4"/>
                                <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
                                <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
                                <path d="M12 3c0 1-1 3-3 3s-3-2-3-3 1-3 3-3 3 2 3 3"/>
                                <path d="M12 21c0-1 1-3 3-3s3 2 3 3-1 3-3 3-3-2-3-3"/>
                            </svg>
                        </div>
                        <h2>üéâ Parab√©ns! Curso Conclu√≠do!</h2>
                        <p>Voc√™ completou com sucesso o Curso T√©cnico de Inform√°tica!</p>
                    </div>
                    <div class="completion-stats">
                        <div class="stat-card">
                            <div class="stat-number">${courseData.totalChapters}</div>
                            <div class="stat-label">Cap√≠tulos Conclu√≠dos</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">100%</div>
                            <div class="stat-label">Progresso Total</div>
                        </div>
                    </div>
                    <div class="completion-actions">
                        <button type="button" class="btn btn-primary" onclick="goHome()">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                                <polyline points="9,22 9,12 15,12 15,22"/>
                            </svg>
                            Voltar aos cursos
                        </button>
                        <button class="btn btn-secondary" onclick="window.location.href='cursos.html'">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                            </svg>
                            Ver Todos os Cursos
                        </button>
                    </div>
                </div>
            `;
            content.style.display = 'block';
        }


        /**
         * Inicia o quiz de um cap√≠tulo
         */
        function startQuiz(chapterId) {
            if (!quizData[chapterId]) {
                alert('Quiz n√£o dispon√≠vel para este cap√≠tulo ainda!');
                return;
            }

            currentQuiz = {
                chapterId: chapterId,
                questions: [...quizData[chapterId].quiz],
                currentQuestion: 0,
                answers: [],
                score: 0
            };

            showQuizInterface();
        }

        /**
         * Inicia a prova de um cap√≠tulo
         */
        function startExam(chapterId) {
            if (!quizData[chapterId]) {
                alert('Prova n√£o dispon√≠vel para este cap√≠tulo ainda!');
                return;
            }

            if (!confirm('A prova tem 30 minutos de dura√ß√£o. Deseja continuar?')) {
                return;
            }

            currentExam = {
                chapterId: chapterId,
                questions: [...quizData[chapterId].exam],
                currentQuestion: 0,
                answers: [],
                score: 0
            };

            examTimeLeft = 30 * 60; // Reset timer
            showExamInterface();
            startExamTimer();
        }

        /**
         * Mostra a interface do quiz
         */
        function showQuizInterface() {
            const content = document.getElementById('chapter-content');
            content.innerHTML = `
                <div class="quiz-container">
                    <div class="quiz-header">
                        <h2>üìù Quiz - Cap√≠tulo ${currentQuiz.chapterId}</h2>
                        <p>Responda as 10 perguntas para testar seus conhecimentos</p>
                        <div class="quiz-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${(currentQuiz.currentQuestion / currentQuiz.questions.length) * 100}%"></div>
                            </div>
                            <span>Pergunta ${currentQuiz.currentQuestion + 1} de ${currentQuiz.questions.length}</span>
                        </div>
                    </div>
                    <div class="quiz-question-container">
                        ${renderQuizQuestion()}
                    </div>
                </div>
            `;
            content.style.display = 'block';
        }

        /**
         * Mostra a interface da prova
         */
        function showExamInterface() {
            const content = document.getElementById('chapter-content');
            content.innerHTML = `
                <div class="exam-container">
                    <div class="exam-header">
                        <h2>üéØ Prova - Cap√≠tulo ${currentExam.chapterId}</h2>
                        <p>Responda as 10 perguntas em 30 minutos</p>
                        <div class="exam-timer">
                            <div class="timer-display">
                                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <path d="M12 6v6l4 2"/>
                                </svg>
                                <span id="timer-text">30:00</span>
                            </div>
                        </div>
                        <div class="exam-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${(currentExam.currentQuestion / currentExam.questions.length) * 100}%"></div>
                            </div>
                            <span>Pergunta ${currentExam.currentQuestion + 1} de ${currentExam.questions.length}</span>
                        </div>
                    </div>
                    <div class="exam-question-container">
                        ${renderExamQuestion()}
                    </div>
                </div>
            `;
            content.style.display = 'block';
        }

        /**
         * Renderiza uma pergunta do quiz
         */
        function renderQuizQuestion() {
            const question = currentQuiz.questions[currentQuiz.currentQuestion];
            return `
                <div class="question-card">
                    <h3>${question.question}</h3>
                    <div class="options-container">
                        ${question.options.map((option, index) => `
                            <button class="option-btn" onclick="selectQuizAnswer(${index})">
                                ${option}
                            </button>
                        `).join('')}
                    </div>
                    <div class="quiz-navigation">
                        <button class="btn btn-secondary" onclick="previousQuizQuestion()" ${currentQuiz.currentQuestion === 0 ? 'disabled' : ''}>
                            Anterior
                        </button>
                        <button class="btn btn-primary" onclick="nextQuizQuestion()" ${currentQuiz.answers[currentQuiz.currentQuestion] === undefined ? 'disabled' : ''}>
                            ${currentQuiz.currentQuestion === currentQuiz.questions.length - 1 ? 'Finalizar Quiz' : 'Pr√≥xima'}
                        </button>
                    </div>
                </div>
            `;
        }

        /**
         * Renderiza uma pergunta da prova
         */
        function renderExamQuestion() {
            const question = currentExam.questions[currentExam.currentQuestion];
            return `
                <div class="question-card">
                    <h3>${question.question}</h3>
                    <div class="options-container">
                        ${question.options.map((option, index) => `
                            <button class="option-btn" onclick="selectExamAnswer(${index})">
                                ${option}
                            </button>
                        `).join('')}
                    </div>
                    <div class="exam-navigation">
                        <button class="btn btn-secondary" onclick="previousExamQuestion()" ${currentExam.currentQuestion === 0 ? 'disabled' : ''}>
                            Anterior
                        </button>
                        <button class="btn btn-primary" onclick="nextExamQuestion()" ${currentExam.answers[currentExam.currentQuestion] === undefined ? 'disabled' : ''}>
                            ${currentExam.currentQuestion === currentExam.questions.length - 1 ? 'Finalizar Prova' : 'Pr√≥xima'}
                        </button>
                    </div>
                </div>
            `;
        }

        /**
         * Seleciona resposta do quiz
         */
        function selectQuizAnswer(answerIndex) {
            currentQuiz.answers[currentQuiz.currentQuestion] = answerIndex;

            // Atualizar visual dos bot√µes
            document.querySelectorAll('.option-btn').forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === answerIndex) {
                    btn.classList.add('selected');
                }
            });

            // Habilitar bot√£o pr√≥ximo
            document.querySelector('.quiz-navigation .btn-primary').disabled = false;
        }

        /**
         * Seleciona resposta da prova
         */
        function selectExamAnswer(answerIndex) {
            currentExam.answers[currentExam.currentQuestion] = answerIndex;

            // Atualizar visual dos bot√µes
            document.querySelectorAll('.option-btn').forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === answerIndex) {
                    btn.classList.add('selected');
                }
            });

            // Habilitar bot√£o pr√≥ximo
            document.querySelector('.exam-navigation .btn-primary').disabled = false;
        }

        /**
         * Pr√≥xima pergunta do quiz
         */
        function nextQuizQuestion() {
            if (currentQuiz.currentQuestion < currentQuiz.questions.length - 1) {
                currentQuiz.currentQuestion++;
                showQuizInterface();
            } else {
                finishQuiz();
            }
        }

        /**
         * Pergunta anterior do quiz
         */
        function previousQuizQuestion() {
            if (currentQuiz.currentQuestion > 0) {
                currentQuiz.currentQuestion--;
                showQuizInterface();
            }
        }

        /**
         * Pr√≥xima pergunta da prova
         */
        function nextExamQuestion() {
            if (currentExam.currentQuestion < currentExam.questions.length - 1) {
                currentExam.currentQuestion++;
                showExamInterface();
            } else {
                finishExam();
            }
        }

        /**
         * Pergunta anterior da prova
         */
        function previousExamQuestion() {
            if (currentExam.currentQuestion > 0) {
                currentExam.currentQuestion--;
                showExamInterface();
            }
        }

        /**
         * Finaliza o quiz
         */
        function finishQuiz() {
            // Calcular pontua√ß√£o
            let correct = 0;
            currentQuiz.questions.forEach((question, index) => {
                if (currentQuiz.answers[index] === question.correct) {
                    correct++;
                }
            });

            currentQuiz.score = correct;
            const percentage = Math.round((correct / currentQuiz.questions.length) * 100);

            // Salvar pontua√ß√£o do quiz
            saveQuizScore(currentQuiz.chapterId, correct, percentage);

            const content = document.getElementById('chapter-content');
            content.innerHTML = `
                <div class="quiz-result">
                    <div class="result-header">
                        <h2>üéâ Quiz Conclu√≠do!</h2>
                        <div class="score-display">
                            <div class="score-circle ${percentage >= 70 ? 'pass' : 'fail'}">
                                <span class="score-number">${percentage}%</span>
                            </div>
                            <p class="score-text">${correct} de ${currentQuiz.questions.length} perguntas corretas</p>
                        </div>
                    </div>
                    <div class="result-details">
                        <h3>üìä Resultado Detalhado</h3>
                        <div class="questions-review">
                            ${currentQuiz.questions.map((question, index) => {
                const userAnswer = currentQuiz.answers[index];
                const isCorrect = userAnswer === question.correct;
                return `
                                    <div class="question-review ${isCorrect ? 'correct' : 'incorrect'}">
                                        <h4>Pergunta ${index + 1}</h4>
                                        <p><strong>Pergunta:</strong> ${question.question}</p>
                                        <p><strong>Sua resposta:</strong> ${question.options[userAnswer] || 'N√£o respondida'}</p>
                                        <p><strong>Resposta correta:</strong> ${question.options[question.correct]}</p>
                                        <p><strong>Explica√ß√£o:</strong> ${question.explanation}</p>
                                    </div>
                                `;
            }).join('')}
                        </div>
                    </div>
                    <div class="result-actions">
                        <button class="btn btn-primary" onclick="closeQuiz()">
                            Voltar ao Cap√≠tulo
                        </button>
                        ${percentage >= 70 ? '<button class="btn btn-secondary" onclick="startExam(' + currentQuiz.chapterId + ')">Fazer Prova</button>' : ''}
                    </div>
                </div>
            `;
        }

        /**
         * Finaliza a prova
         */
        function finishExam() {
            clearInterval(examTimer);

            // Calcular pontua√ß√£o
            let correct = 0;
            currentExam.questions.forEach((question, index) => {
                if (currentExam.answers[index] === question.correct) {
                    correct++;
                }
            });

            currentExam.score = correct;
            const percentage = Math.round((correct / currentExam.questions.length) * 100);

            // Salvar pontua√ß√£o da prova
            saveExamScore(currentExam.chapterId, correct, percentage);

            // Se aprovado, marcar cap√≠tulo como conclu√≠do
            if (percentage >= 70) {
                markChapterCompleted(currentExam.chapterId);
            }

            const content = document.getElementById('chapter-content');
            content.innerHTML = `
                <div class="exam-result">
                    <div class="result-header">
                        <h2>üéØ Prova Conclu√≠da!</h2>
                        <div class="score-display">
                            <div class="score-circle ${percentage >= 70 ? 'pass' : 'fail'}">
                                <span class="score-number">${percentage}%</span>
                            </div>
                            <p class="score-text">${correct} de ${currentExam.questions.length} perguntas corretas</p>
                        </div>
                        ${percentage >= 70 ? '<p class="congratulations">üéâ Parab√©ns! Voc√™ passou na prova!</p>' : '<p class="try-again">üìö Estude mais e tente novamente!</p>'}
                    </div>
                    <div class="result-details">
                        <h3>üìä Resultado Detalhado</h3>
                        <div class="questions-review">
                            ${currentExam.questions.map((question, index) => {
                const userAnswer = currentExam.answers[index];
                const isCorrect = userAnswer === question.correct;
                return `
                                    <div class="question-review ${isCorrect ? 'correct' : 'incorrect'}">
                                        <h4>Pergunta ${index + 1}</h4>
                                        <p><strong>Pergunta:</strong> ${question.question}</p>
                                        <p><strong>Sua resposta:</strong> ${question.options[userAnswer] || 'N√£o respondida'}</p>
                                        <p><strong>Resposta correta:</strong> ${question.options[question.correct]}</p>
                                        <p><strong>Explica√ß√£o:</strong> ${question.explanation}</p>
                                    </div>
                                `;
            }).join('')}
                        </div>
                    </div>
                    <div class="result-actions">
                        <button class="btn btn-primary" onclick="closeExam()">
                            Voltar ao Cap√≠tulo
                        </button>
                        ${percentage >= 70 ? '<button class="btn btn-success" onclick="goToNextChapter()">Pr√≥ximo Cap√≠tulo ‚Üí</button>' : '<button class="btn btn-secondary" onclick="startExam(' + currentExam.chapterId + ')">Tentar Novamente</button>'}
                    </div>
                </div>
            `;
        }

        /**
         * Inicia o timer da prova
         */
        function startExamTimer() {
            examTimer = setInterval(() => {
                examTimeLeft--;
                updateTimerDisplay();

                if (examTimeLeft <= 0) {
                    clearInterval(examTimer);
                    alert('Tempo esgotado! A prova ser√° finalizada automaticamente.');
                    finishExam();
                }
            }, 1000);
        }

        /**
         * Atualiza a exibi√ß√£o do timer
         */
        function updateTimerDisplay() {
            const minutes = Math.floor(examTimeLeft / 60);
            const seconds = examTimeLeft % 60;
            const timerText = document.getElementById('timer-text');
            if (timerText) {
                timerText.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                // Mudar cor quando restam menos de 5 minutos
                if (examTimeLeft <= 300) { // 5 minutos
                    timerText.style.color = '#ff4757';
                }
            }
        }

        /**
         * Fecha o quiz
         */
        function closeQuiz() {
            // Salvar o chapterId antes de limpar
            const chapterId = currentQuiz ? currentQuiz.chapterId : null;
            currentQuiz = null;

            // Recarregar o conte√∫do do cap√≠tulo se currentChapter estiver dispon√≠vel
            if (currentChapter && chapterId) {
                loadChapterContent(currentChapter);
                // Mostrar a aba do quiz
                setTimeout(() => {
                    showQuizTab();
                }, 100);
            } else {
                // Fallback: apenas mostrar a aba do quiz (pode n√£o funcionar se o conte√∫do foi substitu√≠do)
                showQuizTab();
            }
        }

        /**
         * Fecha a prova
         */
        function closeExam() {
            // Salvar o chapterId antes de limpar
            const chapterId = currentExam ? currentExam.chapterId : null;
            currentExam = null;
            if (examTimer) {
                clearInterval(examTimer);
                examTimer = null;
            }

            // Recarregar o conte√∫do do cap√≠tulo se currentChapter estiver dispon√≠vel
            if (currentChapter && chapterId) {
                loadChapterContent(currentChapter);
                // Mostrar a aba da prova
                setTimeout(() => {
                    showExamTab();
                }, 100);
            } else {
                // Fallback: apenas mostrar a aba da prova (pode n√£o funcionar se o conte√∫do foi substitu√≠do)
                showExamTab();
            }
        }

        // ===== LOG DE INICIALIZA√á√ÉO =====
        console.log('[NavCode] Sistema de curso inicializado');
        console.log('[NavCode] Cap√≠tulos dispon√≠veis:', courseData.totalChapters);
        console.log('[NavCode] Funcionalidades: Progresso, Exerc√≠cios, V√≠deos, Quiz, Prova');
    </script>

    <!-- Importando sistema de temas -->
    <script src="theme-system.js"></script>
</body>

</html>