<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <!-- Configurações básicas da página -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NavCode - Plataforma de Cursos Técnicos</title>

    <!-- Importando estilos e fontes -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"> <!--Fonte ROBOTO-->

    <!-- Importando scripts -->
    <script src="../atex-pii-modules-III-IV-2025-2/JS/darktheme.js"></script>


</head>

<body>
    <!-- ===== CABEÇALHO PRINCIPAL ===== -->
    <!-- Seção superior com logo, título e informações do usuário -->
    <header class="header" id="home">
        <div class="container" id="header-container">
            <div>
                <div class="header-content">
                    <!-- Título principal com logo clicável -->
                    <div class="header-title">
                        <!-- Logo NavCode clicável que leva ao login -->
                        <div class="brand-logo" onclick="redirectToLogin()">
                            <!-- Ícone da marca (raio representando velocidade/tecnologia) -->
                            <svg class="brand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                            </svg>
                            <span class="brand-name">NavCode</span>
                        </div>

                        <!-- Ícone de livro representando educação -->
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
                        </svg>
                        <h1>Plataforma de Cursos Técnicos</h1>
                    </div>
                </div>
                <!-- Descrição da plataforma -->
                <p class="header-description">
                    Desenvolva suas habilidades técnicas com os cursos completos da NavCode.
                    Aprenda desde fundamentos de hardware até segurança da informação com metodologia profissional
                    e conteúdo sempre atualizado.
                </p>
            </div>
            <div>
                <!-- Área de informações do usuário (visível apenas quando logado) -->
                <div class="user-info" id="user-info" style="display: none;">
                    <div class="user-welcome">
                        <span id="user-name">Carregando...</span>
                        <small id="user-email"></small>
                    </div>
                    <!-- Botão de logout com ícone -->
                    <button class="logout-btn" id="logout-btn" onclick="logoutUser()">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                            <polyline points="16,17 21,12 16,7" />
                            <line x1="21" y1="12" x2="9" y2="12" />
                        </svg>
                        Sair
                    </button>
                </div>
                <!--Botão de modo escuro-->
                <div class="theme-toggle">
                    <p class="text-mode">Alternar Modo </p>
                    <button type="button" id="theme-switch" class="switch-btn" onclick="darkMode()"
                        aria-label="Alternar modo escuro">
                        <span class="slider"></span>
                    </button>
                </div>
            </div>
        </div>
        </div>
    </header>

    <!-- ===== CONTEÚDO PRINCIPAL ===== -->
    <main class="main-content">
        <div class="container">

            <!-- ===== SEÇÃO DE PROGRESSO (visível apenas quando logado) ===== -->
            <div class="progress-card" id="progress-section" style="display: none;">
                <div class="card-header">
                    <h2 class="card-title">
                        <!-- Ícone de medalha para progresso -->
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="8" r="7" />
                            <polyline points="8.21,13.89 7,23 12,20 17,23 15.79,13.88" />
                        </svg>
                        Seu Progresso NavCode
                    </h2>
                    <p class="card-description">
                        <span id="completed-count">0</span> de <span id="total-courses">3</span> cursos iniciados
                    </p>
                </div>
                <div class="card-content">
                    <!-- Barra de progresso visual -->
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <p class="progress-text"><span id="progress-percentage">0</span>% concluído</p>
                </div>
            </div>

            <!-- ===== GRID DE CURSOS DISPONÍVEIS ===== -->
            <div class="courses-grid" id="courses-grid">
                <!-- Os cursos serão carregados dinamicamente pelo JavaScript -->
            </div>

            <!-- ===== SEÇÃO DE AVALIAÇÕES ===== -->
            <div class="reviews-card">
                <div class="card-header">
                    <h2 class="card-title">
                        <!-- Ícone de estrela para avaliações -->
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon
                                points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26" />
                        </svg>
                        Avaliações dos Estudantes
                    </h2>
                    <p class="card-description">
                        Veja o que nossos alunos estão dizendo sobre os cursos NavCode
                    </p>
                </div>
                <div class="card-content">
                    <!-- Grid das avaliações existentes -->
                    <div class="reviews-grid" id="reviews-grid">
                        <!-- Avaliações serão carregadas dinamicamente -->
                    </div>

                    <!-- Formulário para nova avaliação (visível apenas quando logado) -->
                    <div class="review-form" id="review-form" style="display: none;">
                        <h3 class="title-avaliation">Deixe sua Avaliação</h3>

                        <!-- Seletor de estrelas -->
                        <div class="star-rating" id="star-rating">
                            <!-- Estrelas clicáveis para avaliação -->
                            <svg class="star-input" data-rating="1" viewBox="0 0 24 24" onclick="setRating(1)">
                                <polygon
                                    points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26" />
                            </svg>
                            <svg class="star-input" data-rating="2" viewBox="0 0 24 24" onclick="setRating(2)">
                                <polygon
                                    points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26" />
                            </svg>
                            <svg class="star-input" data-rating="3" viewBox="0 0 24 24" onclick="setRating(3)">
                                <polygon
                                    points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26" />
                            </svg>
                            <svg class="star-input" data-rating="4" viewBox="0 0 24 24" onclick="setRating(4)">
                                <polygon
                                    points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26" />
                            </svg>
                            <svg class="star-input" data-rating="5" viewBox="0 0 24 24" onclick="setRating(5)">
                                <polygon
                                    points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26" />
                            </svg>
                        </div>

                        <!-- Campo de texto para comentário -->
                        <textarea class="review-textarea" id="review-text"
                            placeholder="Compartilhe sua experiência com os cursos NavCode..." maxlength="500">
                        </textarea>

                        <!-- Botão para enviar avaliação -->
                        <div id="btn-submit-review">
                            <button class="btn btn-primary" onclick="submitReview()" id="btn-submit-review">
                                Enviar Avaliação
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ===== INFORMAÇÕES GERAIS DA PLATAFORMA ===== -->
            <div class="course-info-card">
                <div class="card-header">
                    <h2 class="card-title" id="about-navcode">Sobre a NavCode</h2>
                </div>
                <div class="card-content">
                    <!-- Estatísticas da plataforma -->
                    <div class="course-stats">
                        <div class="stat">
                            <div class="stat-number">50h+</div>
                            <div class="stat-label">Conteúdo Total</div>
                        </div>
                        <div class="stat">
                            <div class="stat-number">3</div>
                            <div class="stat-label">Cursos Disponíveis</div>
                        </div>
                        <div class="stat">
                            <div class="stat-number">150+</div>
                            <div class="stat-label">Exercícios</div>
                        </div>
                        <div class="stat">
                            <div class="stat-number">80+</div>
                            <div class="stat-label">Videoaulas</div>
                        </div>
                    </div>

                    <!-- Descrição da plataforma -->
                    <p class="course-description">
                        A NavCode é uma plataforma de educação técnica especializada em formar profissionais
                        qualificados para o mercado de tecnologia. Nossos cursos são desenvolvidos com
                        metodologia profissional, conteúdo sempre atualizado e foco na aplicação prática
                        dos conhecimentos adquiridos.
                    </p>

                    <!-- Informações sobre certificação -->
                    <div class="certification-info">
                        <h3>🏆 Certificação NavCode</h3>
                        <p>
                            Ao concluir nossos cursos, você receberá certificados NavCode reconhecidos
                            no mercado por sua qualidade e rigor técnico. Nossos certificados validam
                            suas competências e aumentam suas chances no mercado de trabalho.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== SEÇÃO DE CRIADORES ===== -->
        <!-- Rodapé com informações sobre a equipe NavCode -->
        <section class="creators-section">
            <div class="container" id="container-cards">
                <!-- Título da seção com ícone -->
                <div class="section-header">
                    <h2 class="section-title">Nossos Criadores</h2>
                    <p class="section-description">Conheça os profissionais experientes por trás dos nossos cursos</p>
                </div>

                <!-- Grid dos criadores com cards clicáveis -->
                <div class="creators-grid">
                    <!-- Criador 1: Rafael Engel Serafin -->
                    <div class="creator-card" onclick="window.location.href='creator-rafael.html'">
                        <div class="creator-image-wrapper">
                            <img src="../atex-pii-modules-III-IV-2025-2/assets/party/engel_rafael.jpeg"
                                alt="Rafael Engel Serafin" class="creator-photo">
                        </div>
                        <div class="creator-info">
                            <h3 class="creator-name">Rafael Engel Serafin</h3>
                            <p class="creator-role">Especialista em Desenvolvimento Full-Stack</p>
                            <p class="creator-description">Expert em JavaScript, React, Node.js e arquitetura de
                                sistemas
                                modernos.</p>
                        </div>
                    </div>

                    <!-- Criador 2: Marcos Paulo Cassiano -->
                    <div class="creator-card" onclick="window.location.href='creator-marcos.html'">
                        <div class="creator-image-wrapper">
                            <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/ft-marcos.jpg-y7eRD3xIsZVvPh0JqMApfXRyDJRrsF.jpeg"
                                alt="Marcos Paulo Cassiano" class="creator-photo">
                        </div>
                        <div class="creator-info">
                            <h3 class="creator-name">Marcos Paulo Cassiano</h3>
                            <p class="creator-role">Desenvolvedor Full Stack</p>
                            <p class="creator-description">Especialista em Python, Django, APIs REST e desenvolvimento
                                backend.</p>
                        </div>
                    </div>

                    <!-- Criador 3: Rebeca Costa -->
                    <div class="creator-card" onclick="window.location.href='creator-rebeca.html'">
                        <div class="creator-image-wrapper">
                            <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/ft-rebeca.jpg-rkwRykefWVjM0izDaCS36f28RWY5WM.jpeg"
                                alt="Rebeca Costa" class="creator-photo">
                        </div>
                        <div class="creator-info">
                            <h3 class="creator-name">Rebeca Costa</h3>
                            <p class="creator-role">Especialista em Redes</p>
                            <p class="creator-description">Expert em infraestrutura de redes, segurança e administração
                                de
                                sistemas.</p>
                        </div>
                    </div>

                    <!-- Criador 4: João Pedro Schmidt -->
                    <div class="creator-card" onclick="window.location.href='creator-joao.html'">
                        <div class="creator-image-wrapper">
                            <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/ft-joao.jpg-0Es4xd5GgvV1iYCMdu2WJEEy5me4TI.jpeg"
                                alt="João Pedro Schmidt" class="creator-photo">
                        </div>
                        <div class="creator-info">
                            <h3 class="creator-name">João Pedro Schmidt</h3>
                            <p class="creator-role">Analista de Sistemas</p>
                            <p class="creator-description">Especialista em análise de sistemas, banco de dados e
                                otimização
                                de performance.</p>
                        </div>
                    </div>

                    <!-- Criador 5: Ryan -->
                    <div class="creator-card" onclick="window.location.href='creator-ryan.html'">
                        <div class="creator-image-wrapper">
                            <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/ft-Ryan.jpg-MXMsmonkRMR1vSXHaa8tCChj5bghTD.jpeg"
                                alt="Ryan" class="creator-photo">
                        </div>
                        <div class="creator-info">
                            <h3 class="creator-name">Ryan</h3>
                            <p class="creator-role">Especialista em DevOps</p>
                            <p class="creator-description">Expert em Docker, Kubernetes, CI/CD e infraestrutura como
                                código.
                            </p>
                        </div>
                    </div>

                    <!-- Criador 6: Luiz Gustavo -->
                    <div class="creator-card" onclick="window.location.href='creator-luiz.html'">
                        <div class="creator-image-wrapper">
                            <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/ft-luizg.jpg-IytYoY6vPHAyAVzBhl7q0SHiY46GBI.jpeg"
                                alt="Luiz Gustavo" class="creator-photo">
                        </div>
                        <div class="creator-info">
                            <h3 class="creator-name">Luiz Gustavo</h3>
                            <p class="creator-role">Desenvolvedor Mobile</p>
                            <p class="creator-description">Especialista em React Native, Flutter e desenvolvimento de
                                aplicativos móveis.</p>
                        </div>
                    </div>

                    <!-- Criador 7: Pedro Lucas -->
                    <div class="creator-card" id="pedro-creator-card"
                        onclick="window.location.href='creator-pedro-lucas.html'">
                        <div class="creator-image-wrapper">
                            <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/ft-pedrolucas.jpg-ywazAB9GSikUVc7RgcGTLrTRjh07Ul.jpeg"
                                alt="Pedro Lucas" class="creator-photo">
                        </div>
                        <div class="creator-info">
                            <h3 class="creator-name">Pedro Lucas</h3>
                            <p class="creator-role">Cientista de Dados</p>
                            <p class="creator-description">Expert em Machine Learning, Python, análise de dados e
                                inteligência artificial.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- ===== RODAPÉ PRINCIPAL ===== -->
    <!-- Rodapé com informações sobre a equipe NavCode -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <!-- Coluna 1: Logo e descrição -->
                <div class="footer-column">
                    <div class="footer-brand">
                        <div class="brand-logo">
                            <svg class="brand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                            </svg>
                            <span class="brand-name"><a href="#home" id="navcode-a">NavCode</a></span>
                        </div>
                        <p class="footer-description">
                            Transformando carreiras através da educação em tecnologia da informação.
                        </p>
                    </div>
                </div>

                <!-- Coluna 2: Cursos -->
                <div class="footer-column">
                    <h3 class="footer-title">Cursos</h3>
                    <ul class="footer-links">
                        <li><a href="curso-informatica.html">Técnico em Informática</a></li>
                        <li><a href="curso-web.html">Desenvolvimento Web</a></li>
                        <li><a href="curso-seguranca.html">Segurança da Informação</a></li>
                    </ul>
                </div>

                <!-- Coluna 3: Empresa -->
                <div class="footer-column">
                    <h3 class="footer-title">Empresa</h3>
                    <ul class="footer-links">
                        <li><a href="#sobre">Sobre Nós</a></li>
                        <li><a href="#equipe">Nosso Time</a></li>
                        <li><a href="#contato">Contato</a></li>
                        <li><a href="#certificados">Certificados</a></li>
                    </ul>
                </div>

                <!-- Coluna 4: Suporte -->
                <div class="footer-column">
                    <h3 class="footer-title">Suporte</h3>
                    <ul class="footer-links">
                        <li><a href="#ajuda">Central de Ajuda</a></li>
                        <li><a href="#faq">FAQ</a></li>
                        <li><a href="#politica">Política de Privacidade</a></li>
                        <li><a href="#termos">Termos de Uso</a></li>
                    </ul>
                </div>
            </div>

            <!-- Linha de copyright -->
            <div class="footer-bottom">
                <p>&copy; 2024 NavCode. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- ===== SCRIPTS ===== -->
    <!-- Importando sistema de autenticação -->
    <script src="../atex-pii-modules-III-IV-2025-2/JS/auth.js"></script>

    <!-- Script principal da página -->
    <script>
        // ===== VARIÁVEIS GLOBAIS =====
        // Armazenando dados dos cursos disponíveis
        const courses = [
            {
                id: 1,
                title: "Curso Técnico de Informática",
                description: "Curso completo cobrindo desde fundamentos de hardware até segurança da informação.",
                duration: "20h",
                chapters: 6,
                exercises: 60,
                videos: 30,
                level: "Iniciante a Avançado",
                category: "Informática Geral"
            },
            {
                id: 2,
                title: "Desenvolvimento Web Full-Stack",
                description: "Aprenda a criar aplicações web completas do frontend ao backend.",
                duration: "25h",
                chapters: 8,
                exercises: 80,
                videos: 40,
                level: "Intermediário",
                category: "Programação"
            },
            {
                id: 3,
                title: "Segurança da Informação",
                description: "Fundamentos e práticas avançadas de cybersecurity e proteção de dados.",
                duration: "15h",
                chapters: 5,
                exercises: 40,
                videos: 25,
                level: "Intermediário a Avançado",
                category: "Segurança"
            }
        ];

        // Variável para armazenar avaliação atual
        let currentRating = 0;

        // ===== FUNÇÕES DE INICIALIZAÇÃO =====
        /**
         * Função executada quando a página carrega
         * Verifica autenticação e carrega conteúdo apropriado
         */
        document.addEventListener('DOMContentLoaded', function () {
            console.log('[NavCode] Inicializando página principal...');

            // Verificar se usuário está logado
            checkAuthenticationStatus();

            // Carregar cursos disponíveis
            loadCourses();

            // Carregar avaliações existentes
            loadReviews();

            console.log('[NavCode] Página inicializada com sucesso!');
        });

        // ===== FUNÇÕES DE AUTENTICAÇÃO =====
        /**
         * Verifica status de autenticação e ajusta interface
         */
        function checkAuthenticationStatus() {
            const isLoggedIn = localStorage.getItem('navcode_logged_in') === 'true';
            const userInfo = document.getElementById('user-info');
            const progressSection = document.getElementById('progress-section');
            const reviewForm = document.getElementById('review-form');

            if (isLoggedIn) {
                // Usuário logado - mostrar informações pessoais
                const currentUser = getCurrentUser();
                if (currentUser) {
                    document.getElementById('user-name').textContent = `Olá, ${currentUser.username}!`;
                    document.getElementById('user-email').textContent = currentUser.email;
                    userInfo.style.display = 'flex';
                    progressSection.style.display = 'block';
                    reviewForm.style.display = 'block';

                    // Carregar progresso do usuário
                    loadUserProgress();
                }
            } else {
                // Usuário não logado - esconder seções pessoais
                userInfo.style.display = 'none';
                progressSection.style.display = 'none';
                reviewForm.style.display = 'none';
            }
        }

        /**
         * Redireciona para página de login quando logo é clicada
         */
        function redirectToLogin() {
            console.log('[NavCode] Redirecionando para login...');
            window.location.href = 'login.html';
        }

        // ===== FUNÇÕES DE CARREGAMENTO DE CURSOS =====
        /**
         * Carrega e exibe todos os cursos disponíveis
         */
        function loadCourses() {
            const coursesGrid = document.getElementById('courses-grid');
            coursesGrid.innerHTML = ''; // Limpar conteúdo existente

            // Criar HTML para cada curso
            courses.forEach(course => {
                const courseCard = createCourseCard(course);
                coursesGrid.appendChild(courseCard);
            });

            console.log(`[NavCode] ${courses.length} cursos carregados com sucesso`);
        }

        /**
         * Cria elemento HTML para um cartão de curso
         * @param {Object} course - Dados do curso
         * @returns {HTMLElement} - Elemento do cartão
         */
        function createCourseCard(course) {
            const card = document.createElement('div');
            card.className = 'chapter-card'; // Reutilizando estilos existentes
            card.onclick = () => accessCourse(course.id);

            card.innerHTML = `
                <div class="chapter-header">
                    <div class="chapter-info">
                        <div class="chapter-icon-wrapper">
                            ${getCourseIcon(course.category)}
                        </div>
                        <div class="chapter-details">
                            <h3>${course.title}</h3>
                            <div class="chapter-duration">
                                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12,6 12,12 16,14"/>
                                </svg>
                                ${course.duration} • ${course.level}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chapter-body">
                    <p class="chapter-description">${course.description}</p>
                    <div class="course-stats" style="grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1rem; font-size: 0.875rem;">
                        <div class="stat">
                            <div class="stat-number" style="font-size: 1.25rem;">${course.chapters}</div>
                            <div class="stat-label">Capítulos</div>
                        </div>
                        <div class="stat">
                            <div class="stat-number" style="font-size: 1.25rem;">${course.exercises}+</div>
                            <div class="stat-label">Exercícios</div>
                        </div>
                    </div>
                    <button class="chapter-button primary">
                        ${isUserLoggedIn() ? 'Acessar Curso' : 'Fazer Login para Acessar'}
                    </button>
                </div>
            `;

            return card;
        }

        /**
         * Retorna ícone SVG baseado na categoria do curso
         * @param {string} category - Categoria do curso
         * @returns {string} - HTML do ícone SVG
         */
        function getCourseIcon(category) {
            const icons = {
                'Informática Geral': `
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                        <line x1="8" y1="21" x2="16" y2="21"/>
                        <line x1="12" y1="17" x2="12" y2="21"/>
                    </svg>
                `,
                'Programação': `
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="16,18 22,12 16,6"/>
                        <polyline points="8,6 2,12 8,18"/>
                    </svg>
                `,
                'Segurança': `
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                `
            };

            return icons[category] || icons['Informática Geral'];
        }

        /**
         * Função chamada quando usuário clica em um curso
         * @param {number} courseId - ID do curso
         */
        function accessCourse(courseId) {
            if (!isUserLoggedIn()) {
                alert('Faça login para acessar os cursos NavCode!');
                redirectToLogin();
                return;
            }

            // Encontrar o curso selecionado
            const course = courses.find(c => c.id === courseId);

            // Verificar se existe um sistema de capítulos disponível
            if (typeof NavCodeCourseSystem !== 'undefined') {
                // Usar o sistema de capítulos existente
                const courseSystem = new NavCodeCourseSystem();
                courseSystem.init();
                console.log(`[NavCode] Acessando curso: ${course.title}`);
            } else {
                // Fallback: redirecionar para página específica do curso
                console.log(`[NavCode] Redirecionando para curso ${courseId}`);

                // Tentar redirecionar para arquivos específicos do curso
                switch (courseId) {
                    case 1:
                        // Curso Técnico de Informática - usar o sistema existente
                        window.location.href = 'curso-informatica.html';
                        break;
                    case 2:
                        // Desenvolvimento Web
                        window.location.href = 'curso-web.html';
                        break;
                    case 3:
                        // Segurança da Informação
                        window.location.href = 'curso-seguranca.html';
                        break;
                    default:
                        alert(`Curso "${course.title}" será disponibilizado em breve!`);
                }
            }
        }

        // ===== FUNÇÕES DE PROGRESSO DO USUÁRIO =====
        /**
         * Carrega e exibe progresso do usuário logado
         */
        function loadUserProgress() {
            // Simular dados de progresso (em produção, viria do backend)
            const mockProgress = {
                completedCourses: 1,
                totalCourses: courses.length,
                overallProgress: 33
            };

            // Atualizar elementos da interface
            document.getElementById('completed-count').textContent = mockProgress.completedCourses;
            document.getElementById('total-courses').textContent = mockProgress.totalCourses;
            document.getElementById('progress-percentage').textContent = mockProgress.overallProgress;

            // Animar barra de progresso
            const progressFill = document.getElementById('progress-fill');
            setTimeout(() => {
                progressFill.style.width = `${mockProgress.overallProgress}%`;
            }, 500);
        }

        // ===== SISTEMA DE AVALIAÇÕES =====
        /**
         * Carrega avaliações existentes dos usuários
         */
        function loadReviews() {
            const reviewsGrid = document.getElementById('reviews-grid');

            // Avaliações de exemplo (em produção, viria do backend)
            const sampleReviews = [
                {
                    name: "Maria Silva",
                    rating: 5,
                    date: "15/12/2024",
                    text: "Excelente plataforma! Os cursos são muito bem estruturados e o conteúdo é de alta qualidade. Recomendo para quem quer se especializar em tecnologia."
                },
                {
                    name: "João Santos",
                    rating: 4,
                    date: "10/12/2024",
                    text: "Muito bom! Aprendi bastante com o curso de Informática. Os exercícios práticos ajudam muito na fixação do conteúdo."
                },
                {
                    name: "Ana Costa",
                    rating: 5,
                    date: "05/12/2024",
                    text: "A NavCode superou minhas expectativas. Metodologia excelente e suporte sempre disponível. Já estou no segundo curso!"
                }
            ];

            // Carregar avaliações salvas no localStorage
            const savedReviews = JSON.parse(localStorage.getItem('navcode_reviews') || '[]');
            const allReviews = [...sampleReviews, ...savedReviews];

            // Criar HTML para cada avaliação
            reviewsGrid.innerHTML = '';
            allReviews.forEach(review => {
                const reviewCard = createReviewCard(review);
                reviewsGrid.appendChild(reviewCard);
            });
        }

        /**
         * Cria elemento HTML para uma avaliação
         * @param {Object} review - Dados da avaliação
         * @returns {HTMLElement} - Elemento da avaliação
         */
        function createReviewCard(review) {
            const card = document.createElement('div');
            card.className = 'review-card';

            // Gerar iniciais do nome para avatar
            const initials = review.name.split(' ').map(n => n[0]).join('').toUpperCase();

            card.innerHTML = `
                <div class="review-header">
                    <div class="review-avatar">${initials}</div>
                    <div class="review-info">
                        <h4>${review.name}</h4>
                        <div class="review-date">${review.date}</div>
                    </div>
                </div>
                <div class="review-stars">
                    ${createStarsHTML(review.rating)}
                </div>
                <p class="review-text">"${review.text}"</p>
            `;

            return card;
        }

        /**
         * Cria HTML das estrelas para avaliação
         * @param {number} rating - Nota de 1 a 5
         * @returns {string} - HTML das estrelas
         */
        function createStarsHTML(rating) {
            let starsHTML = '';
            for (let i = 1; i <= 5; i++) {
                const filled = i <= rating ? 'star' : 'star empty';
                starsHTML += `
                    <svg class="${filled}" viewBox="0 0 24 24">
                        <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
                    </svg>
                `;
            }
            return starsHTML;
        }

        /**
         * Define avaliação quando usuário clica nas estrelas
         * @param {number} rating - Nota selecionada
         */
        function setRating(rating) {
            currentRating = rating;

            // Atualizar visual das estrelas
            const stars = document.querySelectorAll('.star-input');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        /**
         * Envia nova avaliação do usuário
         */
        function submitReview() {
            const reviewText = document.getElementById('review-text').value.trim();
            const currentUser = getCurrentUser();

            // Validações
            if (!currentUser) {
                alert('Você precisa estar logado para avaliar!');
                return;
            }

            if (currentRating === 0) {
                alert('Por favor, selecione uma avaliação de 1 a 5 estrelas!');
                return;
            }

            if (reviewText.length < 10) {
                alert('Por favor, escreva um comentário com pelo menos 10 caracteres!');
                return;
            }

            // Criar nova avaliação
            const newReview = {
                name: currentUser.username,
                rating: currentRating,
                date: new Date().toLocaleDateString('pt-BR'),
                text: reviewText
            };

            // Salvar no localStorage
            const savedReviews = JSON.parse(localStorage.getItem('navcode_reviews') || '[]');
            savedReviews.unshift(newReview); // Adicionar no início
            localStorage.setItem('navcode_reviews', JSON.stringify(savedReviews));

            // Limpar formulário
            document.getElementById('review-text').value = '';
            currentRating = 0;
            document.querySelectorAll('.star-input').forEach(star => {
                star.classList.remove('active');
            });

            // Recarregar avaliações
            loadReviews();

            alert('Avaliação enviada com sucesso! Obrigado pelo seu feedback!');
        }

        // ===== FUNÇÕES AUXILIARES =====
        /**
         * Verifica se usuário está logado
         * @returns {boolean} - Status de login
         */
        function isUserLoggedIn() {
            return localStorage.getItem('navcode_logged_in') === 'true';
        }

        /**
         * Função global para logout (chamada pelo botão)
         */
        function logoutUser() {
            if (confirm('Tem certeza que deseja sair?')) {
                // Limpar dados de sessão
                localStorage.removeItem('navcode_logged_in');
                localStorage.removeItem('navcode_user');
                localStorage.removeItem('navcode_user_data');

                // Recarregar página para atualizar interface
                window.location.reload();
            }
        }

        // ===== LOG DE INICIALIZAÇÃO =====
        console.log('[NavCode] Sistema de cursos inicializado');
        console.log('[NavCode] Cursos disponíveis:', courses.length);
        console.log('[NavCode] Funcionalidades: Autenticação, Progresso, Avaliações, Cursos');
    </script>
</body>

</html>