<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Configura√ß√µes b√°sicas da p√°gina de login -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - NavCode Plataforma de Cursos</title>
    
    <!-- Importando estilos principais -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ===== CONTAINER PRINCIPAL DE LOGIN ===== -->
    <!-- Layout centralizado com fundo gradiente moderno -->
    <div class="login-container">
        
        <!-- ===== CART√ÉO DE LOGIN ===== -->
        <!-- Cart√£o principal com formul√°rio de autentica√ß√£o -->
        <div class="login-card">
            
            <!-- ===== CABE√áALHO DO LOGIN ===== -->
            <!-- Logo e informa√ß√µes da marca NavCode -->
            <div class="login-header">
                <!-- Logo NavCode com √≠cone de raio -->
                <div class="login-logo">
                    <svg class="brand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                    </svg>
                </div>
                
                <!-- T√≠tulo e subt√≠tulo da plataforma -->
                <h1 class="login-title">NavCode</h1>
                <p class="login-subtitle">Plataforma de Cursos T√©cnicos</p>
                <p class="login-description">Acesse sua conta para continuar aprendendo</p>
            </div>
            
            <!-- ===== MENSAGEM DE ERRO ===== -->
            <!-- Exibida quando credenciais s√£o inv√°lidas -->
            <div class="error-message" id="errorMessage">
                <div class="error-icon">‚ö†Ô∏è</div>
                <span id="errorText">Usu√°rio ou senha incorretos</span>
            </div>
            
            <!-- ===== FORMUL√ÅRIO DE LOGIN ===== -->
            <!-- Campos de usu√°rio e senha com valida√ß√£o -->
            <form id="loginForm" class="login-form">
                
                <!-- Campo de usu√°rio -->
                <div class="form-group">
                    <label class="form-label" for="username">
                        <!-- √çcone de usu√°rio -->
                        <svg class="label-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                        Usu√°rio
                    </label>
                    <input 
                        type="text" 
                        id="username" 
                        class="form-input" 
                        placeholder="Digite seu usu√°rio"
                        required
                        autocomplete="username"
                    >
                </div>
                
                <!-- Campo de senha -->
                <div class="form-group">
                    <label class="form-label" for="password">
                        <!-- √çcone de cadeado -->
                        <svg class="label-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                            <circle cx="12" cy="16" r="1"/>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                        </svg>
                        Senha
                    </label>
                    <div class="password-input-wrapper">
                        <input 
                            type="password" 
                            id="password" 
                            class="form-input" 
                            placeholder="Digite sua senha"
                            required
                            autocomplete="current-password"
                        >
                        <!-- Bot√£o para mostrar/esconder senha -->
                        <button type="button" class="password-toggle" onclick="togglePassword()">
                            <svg id="eye-icon" class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <!-- Op√ß√µes adicionais -->
                <div class="form-options">
                    <!-- Checkbox para lembrar usu√°rio -->
                    <label class="checkbox-label">
                        <input type="checkbox" id="rememberMe" class="checkbox-input">
                        <span class="checkbox-custom"></span>
                        Lembrar de mim
                    </label>
                    
                    <!-- Link para recuperar senha -->
                    <a href="#" class="forgot-password" onclick="showForgotPassword()">
                        Esqueceu a senha?
                    </a>
                </div>
                
                <!-- Bot√£o de login -->
                <button type="submit" class="login-btn">
                    <!-- √çcone de entrada -->
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
                        <polyline points="10,17 15,12 10,7"/>
                        <line x1="15" y1="12" x2="3" y2="12"/>
                    </svg>
                    Entrar na Plataforma
                </button>
            </form>
            
            <!-- ===== RODAP√â DO LOGIN ===== -->
            <!-- Links para registro e informa√ß√µes adicionais -->
            <div class="login-footer">
                <!-- Divisor visual -->
                <div class="divider">
                    <span>ou</span>
                </div>
                
                <!-- Link para criar conta -->
                <p class="register-link">
                    N√£o tem uma conta? 
                    <a href="register.html" class="register-btn">
                        Criar Conta Gratuita
                        <svg class="link-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14"/>
                            <path d="M12 5l7 7-7 7"/>
                        </svg>
                    </a>
                </p>
                
                <!-- Informa√ß√µes sobre a plataforma -->
                <div class="platform-info">
                    <p>‚ú® Acesso a todos os cursos t√©cnicos</p>
                    <p>üìö Conte√∫do sempre atualizado</p>
                    <p>üèÜ Certificados reconhecidos</p>
                </div>
            </div>
        </div>
        
        <!-- ===== INFORMA√á√ïES LATERAIS ===== -->
        <!-- Painel com estat√≠sticas e depoimentos -->
        <div class="login-sidebar">
            <div class="sidebar-content">
                <!-- T√≠tulo da sidebar -->
                <h2 class="sidebar-title">Junte-se a milhares de estudantes</h2>
                <p class="sidebar-description">
                    Desenvolva suas habilidades t√©cnicas com a melhor plataforma de educa√ß√£o em tecnologia do Brasil.
                </p>
                
                <!-- Estat√≠sticas da plataforma -->
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number">1000+</div>
                        <div class="stat-label">Alunos Ativos</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">50h+</div>
                        <div class="stat-label">Conte√∫do</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">95%</div>
                        <div class="stat-label">Satisfa√ß√£o</div>
                    </div>
                </div>
                
                <!-- Depoimento de aluno -->
                <div class="testimonial">
                    <div class="testimonial-content">
                        "A NavCode transformou minha carreira. Os cursos s√£o pr√°ticos e o suporte √© excepcional!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">MR</div>
                        <div class="author-info">
                            <div class="author-name">Maria Rodrigues</div>
                            <div class="author-role">Desenvolvedora Full-Stack</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ===== SCRIPTS ===== -->
    <!-- Importando sistema de autentica√ß√£o -->
    <script src="auth.js"></script>
    
    <!-- Script principal da p√°gina de login -->
    <script>
        // ===== MANIPULA√á√ÉO DO FORMUL√ÅRIO =====
        /**
         * Event listener para submiss√£o do formul√°rio de login
         * Processa credenciais e redireciona em caso de sucesso
         */
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault(); // Prevenir envio padr√£o do formul√°rio
            
            console.log('[NavCode] Tentativa de login iniciada...');
            
            // Obter valores dos campos
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const rememberMe = document.getElementById('rememberMe').checked;
            
            // Validar campos obrigat√≥rios
            if (!username || !password) {
                showError('Por favor, preencha todos os campos!');
                return;
            }
            
            // Tentar fazer login usando sistema de autentica√ß√£o
            const result = loginUser(username, password);
            
            if (result.success) {
                console.log('[NavCode] Login realizado com sucesso!');
                
                // Salvar prefer√™ncia de "lembrar"
                if (rememberMe) {
                    localStorage.setItem('navcode_remember_user', username);
                }
                
                // Mostrar mensagem de sucesso
                showSuccess('Login realizado com sucesso! Redirecionando...');
                
                // Redirecionar ap√≥s pequeno delay
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 1500);
                
            } else {
                console.log('[NavCode] Falha no login:', result.message);
                showError(result.message);
            }
        });

        // ===== FUN√á√ïES DE INTERFACE =====
        /**
         * Exibe mensagem de erro na interface
         * @param {string} message - Mensagem de erro a ser exibida
         */
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            
            errorText.textContent = message;
            errorDiv.style.display = 'flex';
            errorDiv.classList.add('shake'); // Anima√ß√£o de balan√ßo
            
            // Esconder ap√≥s 4 segundos
            setTimeout(() => {
                errorDiv.style.display = 'none';
                errorDiv.classList.remove('shake');
            }, 4000);
        }

        /**
         * Exibe mensagem de sucesso na interface
         * @param {string} message - Mensagem de sucesso a ser exibida
         */
        function showSuccess(message) {
            const errorDiv = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            
            // Transformar em mensagem de sucesso temporariamente
            errorDiv.className = 'success-message';
            errorText.textContent = message;
            errorDiv.style.display = 'flex';
            
            // √çcone de sucesso
            errorDiv.innerHTML = `
                <div class="success-icon">‚úÖ</div>
                <span>${message}</span>
            `;
        }

        /**
         * Alterna visibilidade da senha
         * Permite ao usu√°rio ver/esconder a senha digitada
         */
        function togglePassword() {
            const passwordInput = document.getElementById('password');
            const eyeIcon = document.getElementById('eye-icon');
            
            if (passwordInput.type === 'password') {
                // Mostrar senha
                passwordInput.type = 'text';
                eyeIcon.innerHTML = `
                    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/>
                    <line x1="1" y1="1" x2="23" y2="23"/>
                `;
            } else {
                // Esconder senha
                passwordInput.type = 'password';
                eyeIcon.innerHTML = `
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                    <circle cx="12" cy="12" r="3"/>
                `;
            }
        }

        /**
         * Mostra modal de recupera√ß√£o de senha
         * Funcionalidade para usu√°rios que esqueceram a senha
         */
        function showForgotPassword() {
            alert('Funcionalidade de recupera√ß√£o de senha ser√° implementada em breve!\n\nPor enquanto, use as credenciais padr√£o:\nUsu√°rio: admin\nSenha: 123456');
        }

        // ===== INICIALIZA√á√ÉO DA P√ÅGINA =====
        /**
         * Fun√ß√£o executada quando a p√°gina carrega
         * Verifica se usu√°rio j√° est√° logado e configura interface
         */
        document.addEventListener('DOMContentLoaded', function() {
            console.log('[NavCode] Inicializando p√°gina de login...');
            
            // Verificar se j√° est√° logado
            if (localStorage.getItem('navcode_logged_in') === 'true') {
                console.log('[NavCode] Usu√°rio j√° logado, redirecionando...');
                window.location.href = 'index.html';
                return;
            }
            
            // Carregar usu√°rio lembrado, se existir
            const rememberedUser = localStorage.getItem('navcode_remember_user');
            if (rememberedUser) {
                document.getElementById('username').value = rememberedUser;
                document.getElementById('rememberMe').checked = true;
                // Focar no campo de senha
                document.getElementById('password').focus();
            } else {
                // Focar no campo de usu√°rio
                document.getElementById('username').focus();
            }
            
            console.log('[NavCode] P√°gina de login carregada com sucesso!');
        });

        // ===== ATALHOS DE TECLADO =====
        /**
         * Adiciona atalhos de teclado para melhor experi√™ncia
         */
        document.addEventListener('keydown', function(e) {
            // Enter para submeter formul√°rio (se n√£o estiver em um bot√£o)
            if (e.key === 'Enter' && e.target.tagName !== 'BUTTON') {
                document.getElementById('loginForm').dispatchEvent(new Event('submit'));
            }
            
            // Escape para limpar mensagens de erro
            if (e.key === 'Escape') {
                const errorDiv = document.getElementById('errorMessage');
                errorDiv.style.display = 'none';
            }
        });

        // ===== LOG DE INICIALIZA√á√ÉO =====
        console.log('[NavCode] Sistema de login inicializado');
        console.log('[NavCode] Funcionalidades: Autentica√ß√£o, Lembrar usu√°rio, Recupera√ß√£o de senha');
        console.log('[NavCode] Credenciais padr√£o: admin/123456');
    </script>
</body>
</html>
