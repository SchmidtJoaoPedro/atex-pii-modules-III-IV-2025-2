<!doctype html>
<html lang="pt-BR">
  <head>
    <!-- Configura√ß√µes b√°sicas da p√°gina -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NavCode - Plataforma de Cursos T√©cnicos</title>

    <!-- Importando estilos e fontes -->
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- ===== BOT√ÉO DE ALTERN√ÇNCIA DE TEMA ===== -->
    <button
      class="theme-toggle"
      id="theme-toggle"
      data-tooltip="Alternar Tema"
      onclick="toggleTheme()"
    >
      <svg
        class="icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <circle cx="12" cy="12" r="5" />
        <path
          d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"
        />
      </svg>
    </button>

    <!-- ===== CABE√áALHO PRINCIPAL ===== -->
    <!-- Se√ß√£o superior com logo, t√≠tulo e informa√ß√µes do usu√°rio -->
    <header class="header">
      <div class="container">
        <div class="header-content">
          <!-- T√≠tulo principal com logo clic√°vel -->
          <div class="header-title">
            <!-- Logo NavCode clic√°vel que leva ao login -->
            <div class="brand-logo" onclick="redirectToLogin()">
              <!-- √çcone da marca (raio representando velocidade/tecnologia) -->
              <svg
                class="brand-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
              </svg>
              <span class="brand-name">NavCode</span>
            </div>

            <!-- √çcone de livro representando educa√ß√£o -->
            <svg
              class="icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
              <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
            </svg>
            <h1>Plataforma de Cursos T√©cnicos</h1>
          </div>

          <!-- √Årea de informa√ß√µes do usu√°rio (vis√≠vel apenas quando logado) -->
          <div class="user-info" id="user-info" style="display: none">
            <div class="user-welcome">
              <span id="user-name">Carregando...</span>
              <small id="user-email"></small>
            </div>
            <!-- Bot√£o de logout com √≠cone -->
            <button class="logout-btn" id="logout-btn" onclick="logoutUser()">
              <svg
                class="icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                <polyline points="16,17 21,12 16,7" />
                <line x1="21" y1="12" x2="9" y2="12" />
              </svg>
              Sair
            </button>
          </div>

          <!-- Descri√ß√£o da plataforma -->
          <p class="header-description">
            Desenvolva suas habilidades t√©cnicas com os cursos completos da
            NavCode. Aprenda desde fundamentos de hardware at√© seguran√ßa da
            informa√ß√£o com metodologia profissional e conte√∫do sempre
            atualizado.
          </p>

          <!-- Menu de navega√ß√£o -->
          <nav class="main-navigation">
            <ul class="nav-list">
              <li class="nav-item">
                <a href="home.html" class="nav-link">
                  <svg
                    class="nav-icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                    <polyline points="9,22 9,12 15,12 15,22" />
                  </svg>
                  Home
                </a>
              </li>
              <li class="nav-item">
                <a href="professor.html" class="nav-link">
                  <svg
                    class="nav-icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                    <circle cx="12" cy="7" r="4" />
                  </svg>
                  Professor
                </a>
              </li>
              <li class="nav-item">
                <a href="nossa-empresa.html" class="nav-link">
                  <svg
                    class="nav-icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M3 21h18" />
                    <path d="M5 21V7l8-4v18" />
                    <path d="M19 21V11l-6-4" />
                  </svg>
                  Empresa
                </a>
              </li>
              <li class="nav-item">
                <a href="criadores.html" class="nav-link">
                  <svg
                    class="nav-icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                    <circle cx="9" cy="7" r="4" />
                    <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
                    <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                  </svg>
                  Criadores
                </a>
              </li>
              <li class="nav-item">
                <a href="avaliacoes.html" class="nav-link">
                  <svg
                    class="nav-icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <polygon
                      points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"
                    />
                  </svg>
                  Avalia√ß√µes
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </header>

    <!-- ===== CONTE√öDO PRINCIPAL ===== -->
    <main class="main-content">
      <div class="container">
        <!-- ===== SE√á√ÉO DE PROGRESSO (vis√≠vel apenas quando logado) ===== -->
        <div class="progress-card" id="progress-section" style="display: none">
          <div class="card-header">
            <h2 class="card-title">
              <!-- √çcone de medalha para progresso -->
              <svg
                class="icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <circle cx="12" cy="8" r="7" />
                <polyline points="8.21,13.89 7,23 12,20 17,23 15.79,13.88" />
              </svg>
              Seu Progresso NavCode
            </h2>
            <p class="card-description">
              <span id="completed-count">0</span> de
              <span id="total-courses">6</span> cursos iniciados
            </p>
          </div>
          <div class="card-content">
            <!-- Barra de progresso visual -->
            <div class="progress-bar">
              <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p class="progress-text">
              <span id="progress-percentage">0</span>% conclu√≠do
            </p>
          </div>
        </div>

        <!-- ===== GRID DE CURSOS DISPON√çVEIS ===== -->
        <div class="courses-grid" id="courses-grid">
          <!-- Os cursos ser√£o carregados dinamicamente pelo JavaScript -->
        </div>

        <!-- ===== INFORMA√á√ïES GERAIS DA PLATAFORMA ===== -->
        <div class="course-info-card">
          <div class="card-header">
            <h2 class="card-title">Sobre a NavCode</h2>
          </div>
          <div class="card-content">
            <!-- Estat√≠sticas da plataforma -->
            <div class="course-stats">
              <div class="stat">
                <div class="stat-number">50h+</div>
                <div class="stat-label">Conte√∫do Total</div>
              </div>
              <div class="stat">
                <div class="stat-number">6</div>
                <div class="stat-label">Cursos Dispon√≠veis</div>
              </div>
              <div class="stat">
                <div class="stat-number">150+</div>
                <div class="stat-label">Exerc√≠cios</div>
              </div>
              <div class="stat">
                <div class="stat-number">80+</div>
                <div class="stat-label">Videoaulas</div>
              </div>
            </div>

            <!-- Descri√ß√£o da plataforma -->
            <p class="course-description">
              A NavCode √© uma plataforma de educa√ß√£o t√©cnica especializada em
              formar profissionais qualificados para o mercado de tecnologia.
              Nossos cursos s√£o desenvolvidos com metodologia profissional,
              conte√∫do sempre atualizado e foco na aplica√ß√£o pr√°tica dos
              conhecimentos adquiridos.
            </p>

            <!-- Informa√ß√µes sobre certifica√ß√£o -->
            <div class="certification-info">
              <h3>üèÜ Certifica√ß√£o NavCode</h3>
              <p>
                Ao concluir nossos cursos, voc√™ receber√° certificados NavCode
                reconhecidos no mercado por sua qualidade e rigor t√©cnico.
                Nossos certificados validam suas compet√™ncias e aumentam suas
                chances no mercado de trabalho.
              </p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- ===== RODAP√â PRINCIPAL ===== -->
    <!-- Rodap√© com informa√ß√µes sobre a equipe NavCode -->
    <footer class="main-footer">
      <div class="container">
        <div class="footer-content">
          <!-- Coluna 1: Logo e descri√ß√£o -->
          <div class="footer-column">
            <div class="footer-brand">
              <div class="brand-logo">
                <svg
                  class="brand-icon"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                </svg>
                <span class="brand-name">NavCode</span>
              </div>
              <p class="footer-description">
                Transformando carreiras atrav√©s da educa√ß√£o em tecnologia da
                informa√ß√£o.
              </p>
            </div>
          </div>

          <!-- Coluna 2: Cursos -->
          <div class="footer-column">
            <h3 class="footer-title">Cursos &#8595;</h3>
            <ul class="footer-links">
              <li>
                <a href="curso-informatica.html">T√©cnico em Inform√°tica</a>
              </li>
              <li><a href="curso-web.html">Desenvolvimento Web</a></li>
              <li>
                <a href="curso-seguranca.html">Seguran√ßa da Informa√ß√£o</a>
              </li>
              <li><a href="curso-python.html">Programa√ß√£o Python</a></li>
              <li><a href="curso-redes.html">Redes de Computadores</a></li>
              <li><a href="curso-banco-dados.html">Banco de Dados</a></li>
            </ul>
          </div>

          <!-- Coluna 3: Empresa -->
          <div class="footer-column">
            <h3 class="footer-title">Empresa &#8595;</h3>
            <ul class="footer-links">
              <li><a href="nossa-empresa.html">Sobre N√≥s</a></li>
              <li><a href="criadores.html">Nosso Time</a></li>
              <li><a href="nossa-empresa.html#contato">Contato</a></li>
              <li><a href="#course-info-card">Certificados</a></li>
            </ul>
          </div>

          <!-- Coluna 4: Suporte -->
          <div class="footer-column">
            <h3 class="footer-title">Suporte &#8595;</h3>
            <ul class="footer-links">
              <li><a href="nossa-empresa.html#suporte">Central de Ajuda</a></li>
              <li><a href="nossa-empresa.html#faq">FAQ</a></li>
              <li>
                <a href="nossa-empresa.html#politica"
                  >Pol√≠tica de Privacidade</a
                >
              </li>
              <li><a href="nossa-empresa.html#termos">Termos de Uso</a></li>
            </ul>
          </div>
        </div>

        <!-- Linha de copyright -->
        <div class="footer-bottom">
          <p>&copy; 2024 NavCode. Todos os direitos reservados.</p>
        </div>
      </div>
    </footer>

    <!-- ===== SCRIPTS ===== -->
    <!-- Importando sistema de autentica√ß√£o -->
    <script src="auth.js"></script>

    <!-- Importando sistema de temas -->
    <script src="theme-system.js"></script>

    <!-- Script principal da p√°gina -->
    <script>
      // ===== VARI√ÅVEIS GLOBAIS =====
      // Armazenando dados dos cursos dispon√≠veis
      const courses = [
        {
          id: 1,
          title: "Curso T√©cnico de Inform√°tica",
          description:
            "Curso completo cobrindo desde fundamentos de hardware at√© seguran√ßa da informa√ß√£o.",
          duration: "20h",
          chapters: 6,
          exercises: 60,
          videos: 30,
          level: "Iniciante a Avan√ßado",
          category: "Inform√°tica Geral",
        },
        {
          id: 2,
          title: "Desenvolvimento Web Full-Stack",
          description:
            "Aprenda a criar aplica√ß√µes web completas do frontend ao backend.",
          duration: "25h",
          chapters: 8,
          exercises: 80,
          videos: 40,
          level: "Intermedi√°rio",
          category: "Programa√ß√£o",
        },
        {
          id: 3,
          title: "Seguran√ßa da Informa√ß√£o",
          description:
            "Fundamentos e pr√°ticas avan√ßadas de cybersecurity e prote√ß√£o de dados.",
          duration: "15h",
          chapters: 5,
          exercises: 40,
          videos: 25,
          level: "Intermedi√°rio a Avan√ßado",
          category: "Seguran√ßa",
        },
        {
          id: 4,
          title: "Programa√ß√£o Python",
          description:
            "Aprenda Python do b√°sico ao avan√ßado com projetos pr√°ticos.",
          duration: "20h",
          chapters: 6,
          exercises: 60,
          videos: 30,
          level: "Iniciante a Intermedi√°rio",
          category: "Programa√ß√£o",
        },
        {
          id: 5,
          title: "Redes de Computadores",
          description:
            "Fundamentos de redes, protocolos e infraestrutura de comunica√ß√£o.",
          duration: "18h",
          chapters: 6,
          exercises: 50,
          videos: 25,
          level: "Intermedi√°rio",
          category: "Redes",
        },
        {
          id: 6,
          title: "Banco de Dados",
          description:
            "Fundamentos de banco de dados, SQL e modelagem de dados.",
          duration: "16h",
          chapters: 6,
          exercises: 45,
          videos: 20,
          level: "Intermedi√°rio",
          category: "Banco de Dados",
        },
      ];

      // ===== FUN√á√ïES DE INICIALIZA√á√ÉO =====
      /**
       * Fun√ß√£o executada quando a p√°gina carrega
       * Verifica autentica√ß√£o e carrega conte√∫do apropriado
       */
      document.addEventListener("DOMContentLoaded", function () {
        console.log("[NavCode] Inicializando p√°gina principal...");

        // Verificar se usu√°rio est√° logado
        checkAuthenticationStatus();

        // Carregar cursos dispon√≠veis
        loadCourses();

        console.log("[NavCode] P√°gina inicializada com sucesso!");
      });

      // ===== FUN√á√ïES DE AUTENTICA√á√ÉO =====
      /**
       * Verifica status de autentica√ß√£o e ajusta interface
       */
      function checkAuthenticationStatus() {
        const isLoggedIn = localStorage.getItem("navcode_logged_in") === "true";
        const userInfo = document.getElementById("user-info");
        const progressSection = document.getElementById("progress-section");
        const reviewForm = document.getElementById("review-form");

        if (isLoggedIn) {
          // Usu√°rio logado - mostrar informa√ß√µes pessoais
          const currentUser = getCurrentUser();
          if (currentUser) {
            document.getElementById("user-name").textContent =
              `Ol√°, ${currentUser.username}!`;
            document.getElementById("user-email").textContent =
              currentUser.email;
            userInfo.style.display = "flex";
            progressSection.style.display = "block";

            // Carregar progresso do usu√°rio
            loadUserProgress();
          }
        } else {
          // Usu√°rio n√£o logado - esconder se√ß√µes pessoais
          userInfo.style.display = "none";
          progressSection.style.display = "none";
        }
      }

      /**
       * Redireciona para p√°gina de login quando logo √© clicada
       */
      function redirectToLogin() {
        console.log("[NavCode] Redirecionando para login...");
        window.location.href = "login.html";
      }

      // ===== FUN√á√ïES DE CARREGAMENTO DE CURSOS =====
      /**
       * Carrega e exibe todos os cursos dispon√≠veis
       */
      function loadCourses() {
        const coursesGrid = document.getElementById("courses-grid");
        coursesGrid.innerHTML = ""; // Limpar conte√∫do existente

        // Criar HTML para cada curso
        courses.forEach((course) => {
          const courseCard = createCourseCard(course);
          coursesGrid.appendChild(courseCard);
        });

        console.log(
          `[NavCode] ${courses.length} cursos carregados com sucesso`,
        );
      }

      /**
       * Cria elemento HTML para um cart√£o de curso
       * @param {Object} course - Dados do curso
       * @returns {HTMLElement} - Elemento do cart√£o
       */
      function createCourseCard(course) {
        const card = document.createElement("div");
        card.className = "chapter-card"; // Reutilizando estilos existentes
        card.onclick = () => accessCourse(course.id);

        card.innerHTML = `
                <div class="chapter-header">
                    <div class="chapter-info">
                        <div class="chapter-icon-wrapper">
                            ${getCourseIcon(course.category)}
                        </div>
                        <div class="chapter-details">
                            <h3>${course.title}</h3>
                            <div class="chapter-duration">
                                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12,6 12,12 16,14"/>
                                </svg>
                                ${course.duration} ‚Ä¢ ${course.level}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chapter-body">
                    <p class="chapter-description">${course.description}</p>
                    <div class="course-stats" style="grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1rem; font-size: 0.875rem;">
                        <div class="stat">
                            <div class="stat-number" style="font-size: 1.25rem;">${course.chapters}</div>
                            <div class="stat-label">Cap√≠tulos</div>
                        </div>
                        <div class="stat">
                            <div class="stat-number" style="font-size: 1.25rem;">${course.exercises}+</div>
                            <div class="stat-label">Exerc√≠cios</div>
                        </div>
                    </div>
                    <button class="chapter-button primary">
                        ${isUserLoggedIn() ? "Acessar Curso" : "Fazer Login para Acessar"}
                    </button>
                </div>
            `;

        return card;
      }

      /**
       * Retorna √≠cone SVG baseado na categoria do curso
       * @param {string} category - Categoria do curso
       * @returns {string} - HTML do √≠cone SVG
       */
      function getCourseIcon(category) {
        const icons = {
          "Inform√°tica Geral": `
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                        <line x1="8" y1="21" x2="16" y2="21"/>
                        <line x1="12" y1="17" x2="12" y2="21"/>
                    </svg>
                `,
          Programa√ß√£o: `
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="16,18 22,12 16,6"/>
                        <polyline points="8,6 2,12 8,18"/>
                    </svg>
                `,
          Seguran√ßa: `
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                `,
        };

        return icons[category] || icons["Inform√°tica Geral"];
      }

      /**
       * Fun√ß√£o chamada quando usu√°rio clica em um curso
       * @param {number} courseId - ID do curso
       */
      function accessCourse(courseId) {
        if (!isUserLoggedIn()) {
          alert("Fa√ßa login para acessar os cursos NavCode!");
          redirectToLogin();
          return;
        }

        // Encontrar o curso selecionado
        const course = courses.find((c) => c.id === courseId);

        // Verificar se existe um sistema de cap√≠tulos dispon√≠vel
        if (typeof NavCodeCourseSystem !== "undefined") {
          // Usar o sistema de cap√≠tulos existente
          const courseSystem = new NavCodeCourseSystem();
          courseSystem.init();
          console.log(`[NavCode] Acessando curso: ${course.title}`);
        } else {
          // Fallback: redirecionar para p√°gina espec√≠fica do curso
          console.log(`[NavCode] Redirecionando para curso ${courseId}`);

          // Mapa de IDs -> URLs
          const courseUrls = {
            1: "curso-informatica.html",
            2: "curso-web.html",
            3: "curso-seguranca.html",
            4: "curso-python.html",
            5: "curso-redes.html",
            6: "curso-banco-dados.html",
          };

          // Pega a URL do curso ou manda pro fallback
          const targetCourse = courseUrls[courseId] || "index.html";

          // Primeiro vai para a tela de redirect com anima√ß√£o
          window.location.href =
            "course-redirect.html?course=" + encodeURIComponent(targetCourse);
        }
      }

      // ===== FUN√á√ïES DE PROGRESSO DO USU√ÅRIO =====
      /**
       * Carrega e exibe progresso do usu√°rio logado
       */
      function loadUserProgress() {
        // Simular dados de progresso (em produ√ß√£o, viria do backend)
        const mockProgress = {
          completedCourses: 1,
          totalCourses: courses.length,
          overallProgress: Math.round((1 / courses.length) * 100),
        };

        // Atualizar elementos da interface
        document.getElementById("completed-count").textContent =
          mockProgress.completedCourses;
        document.getElementById("total-courses").textContent =
          mockProgress.totalCourses;
        document.getElementById("progress-percentage").textContent =
          mockProgress.overallProgress;

        // Animar barra de progresso
        const progressFill = document.getElementById("progress-fill");
        setTimeout(() => {
          progressFill.style.width = `${mockProgress.overallProgress}%`;
        }, 500);
      }

      // ===== FUN√á√ïES AUXILIARES =====
      /**
       * Verifica se usu√°rio est√° logado
       * @returns {boolean} - Status de login
       */
      function isUserLoggedIn() {
        return localStorage.getItem("navcode_logged_in") === "true";
      }

      /**
       * Fun√ß√£o global para logout (chamada pelo bot√£o)
       */
      function logoutUser() {
        if (confirm("Tem certeza que deseja sair?")) {
          // Limpar dados de sess√£o
          localStorage.removeItem("navcode_logged_in");
          localStorage.removeItem("navcode_user");
          localStorage.removeItem("navcode_user_data");

          // Recarregar p√°gina para atualizar interface
          window.location.reload();
        }
      }

      // ===== LOG DE INICIALIZA√á√ÉO =====
      console.log("[NavCode] Sistema de cursos inicializado");
      console.log("[NavCode] Cursos dispon√≠veis:", courses.length);
      console.log(
        "[NavCode] Funcionalidades: Autentica√ß√£o, Progresso, Avalia√ß√µes, Cursos",
      );
    </script>
  </body>
</html>
